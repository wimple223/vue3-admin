// node_modules/strip-final-newline/index.js
function stripFinalNewline(input) {
  if (typeof input === "string") {
    return stripFinalNewlineString(input);
  }
  if (!(ArrayBuffer.isView(input) && input.BYTES_PER_ELEMENT === 1)) {
    throw new Error("Input must be a string or a Uint8Array");
  }
  return stripFinalNewlineBinary(input);
}
var stripFinalNewlineString = (input) => input.at(-1) === LF ? input.slice(0, input.at(-2) === CR ? -2 : -1) : input;
var stripFinalNewlineBinary = (input) => input.at(-1) === LF_BINARY ? input.subarray(0, input.at(-2) === CR_BINARY ? -2 : -1) : input;
var LF = "\n";
var LF_BINARY = LF.codePointAt(0);
var CR = "\r";
var CR_BINARY = CR.codePointAt(0);
export {
  stripFinalNewline as default
};
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsibm9kZV9tb2R1bGVzL3N0cmlwLWZpbmFsLW5ld2xpbmUvaW5kZXguanMiXSwKICAic291cmNlc0NvbnRlbnQiOiBbImNvbnN0IF9faW5qZWN0ZWRfZmlsZW5hbWVfXyA9IFwiRTpcXFxccWRcXFxcdnVlMy1hZG1pblxcXFxub2RlX21vZHVsZXNcXFxcc3RyaXAtZmluYWwtbmV3bGluZVxcXFxpbmRleC5qc1wiO2NvbnN0IF9faW5qZWN0ZWRfZGlybmFtZV9fID0gXCJFOlxcXFxxZFxcXFx2dWUzLWFkbWluXFxcXG5vZGVfbW9kdWxlc1xcXFxzdHJpcC1maW5hbC1uZXdsaW5lXCI7Y29uc3QgX19pbmplY3RlZF9pbXBvcnRfbWV0YV91cmxfXyA9IFwiZmlsZTovLy9FOi9xZC92dWUzLWFkbWluL25vZGVfbW9kdWxlcy9zdHJpcC1maW5hbC1uZXdsaW5lL2luZGV4LmpzXCI7ZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gc3RyaXBGaW5hbE5ld2xpbmUoaW5wdXQpIHtcblx0aWYgKHR5cGVvZiBpbnB1dCA9PT0gJ3N0cmluZycpIHtcblx0XHRyZXR1cm4gc3RyaXBGaW5hbE5ld2xpbmVTdHJpbmcoaW5wdXQpO1xuXHR9XG5cblx0aWYgKCEoQXJyYXlCdWZmZXIuaXNWaWV3KGlucHV0KSAmJiBpbnB1dC5CWVRFU19QRVJfRUxFTUVOVCA9PT0gMSkpIHtcblx0XHR0aHJvdyBuZXcgRXJyb3IoJ0lucHV0IG11c3QgYmUgYSBzdHJpbmcgb3IgYSBVaW50OEFycmF5Jyk7XG5cdH1cblxuXHRyZXR1cm4gc3RyaXBGaW5hbE5ld2xpbmVCaW5hcnkoaW5wdXQpO1xufVxuXG5jb25zdCBzdHJpcEZpbmFsTmV3bGluZVN0cmluZyA9IGlucHV0ID0+XG5cdGlucHV0LmF0KC0xKSA9PT0gTEZcblx0XHQ/IGlucHV0LnNsaWNlKDAsIGlucHV0LmF0KC0yKSA9PT0gQ1IgPyAtMiA6IC0xKVxuXHRcdDogaW5wdXQ7XG5cbmNvbnN0IHN0cmlwRmluYWxOZXdsaW5lQmluYXJ5ID0gaW5wdXQgPT5cblx0aW5wdXQuYXQoLTEpID09PSBMRl9CSU5BUllcblx0XHQ/IGlucHV0LnN1YmFycmF5KDAsIGlucHV0LmF0KC0yKSA9PT0gQ1JfQklOQVJZID8gLTIgOiAtMSlcblx0XHQ6IGlucHV0O1xuXG5jb25zdCBMRiA9ICdcXG4nO1xuY29uc3QgTEZfQklOQVJZID0gTEYuY29kZVBvaW50QXQoMCk7XG5jb25zdCBDUiA9ICdcXHInO1xuY29uc3QgQ1JfQklOQVJZID0gQ1IuY29kZVBvaW50QXQoMCk7XG4iXSwKICAibWFwcGluZ3MiOiAiO0FBQThTLFNBQVIsa0JBQW1DLE9BQU87QUFDL1UsTUFBSSxPQUFPLFVBQVUsVUFBVTtBQUM5QixXQUFPLHdCQUF3QixLQUFLO0FBQUEsRUFDckM7QUFFQSxNQUFJLEVBQUUsWUFBWSxPQUFPLEtBQUssS0FBSyxNQUFNLHNCQUFzQixJQUFJO0FBQ2xFLFVBQU0sSUFBSSxNQUFNLHdDQUF3QztBQUFBLEVBQ3pEO0FBRUEsU0FBTyx3QkFBd0IsS0FBSztBQUNyQztBQUVBLElBQU0sMEJBQTBCLFdBQy9CLE1BQU0sR0FBRyxFQUFFLE1BQU0sS0FDZCxNQUFNLE1BQU0sR0FBRyxNQUFNLEdBQUcsRUFBRSxNQUFNLEtBQUssS0FBSyxFQUFFLElBQzVDO0FBRUosSUFBTSwwQkFBMEIsV0FDL0IsTUFBTSxHQUFHLEVBQUUsTUFBTSxZQUNkLE1BQU0sU0FBUyxHQUFHLE1BQU0sR0FBRyxFQUFFLE1BQU0sWUFBWSxLQUFLLEVBQUUsSUFDdEQ7QUFFSixJQUFNLEtBQUs7QUFDWCxJQUFNLFlBQVksR0FBRyxZQUFZLENBQUM7QUFDbEMsSUFBTSxLQUFLO0FBQ1gsSUFBTSxZQUFZLEdBQUcsWUFBWSxDQUFDOyIsCiAgIm5hbWVzIjogW10KfQo=
