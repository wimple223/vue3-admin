var __getOwnPropNames = Object.getOwnPropertyNames;
var __commonJS = (cb, mod) => function __require() {
  return mod || (0, cb[__getOwnPropNames(cb)[0]])((mod = { exports: {} }).exports, mod), mod.exports;
};

// node_modules/fast-diff/diff.js
var require_diff = __commonJS({
  "node_modules/fast-diff/diff.js"(exports, module) {
    var DIFF_DELETE = -1;
    var DIFF_INSERT = 1;
    var DIFF_EQUAL = 0;
    function diff_main(text1, text2, cursor_pos, cleanup, _fix_unicode) {
      if (text1 === text2) {
        if (text1) {
          return [[DIFF_EQUAL, text1]];
        }
        return [];
      }
      if (cursor_pos != null) {
        var editdiff = find_cursor_edit_diff(text1, text2, cursor_pos);
        if (editdiff) {
          return editdiff;
        }
      }
      var commonlength = diff_commonPrefix(text1, text2);
      var commonprefix = text1.substring(0, commonlength);
      text1 = text1.substring(commonlength);
      text2 = text2.substring(commonlength);
      commonlength = diff_commonSuffix(text1, text2);
      var commonsuffix = text1.substring(text1.length - commonlength);
      text1 = text1.substring(0, text1.length - commonlength);
      text2 = text2.substring(0, text2.length - commonlength);
      var diffs = diff_compute_(text1, text2);
      if (commonprefix) {
        diffs.unshift([DIFF_EQUAL, commonprefix]);
      }
      if (commonsuffix) {
        diffs.push([DIFF_EQUAL, commonsuffix]);
      }
      diff_cleanupMerge(diffs, _fix_unicode);
      if (cleanup) {
        diff_cleanupSemantic(diffs);
      }
      return diffs;
    }
    function diff_compute_(text1, text2) {
      var diffs;
      if (!text1) {
        return [[DIFF_INSERT, text2]];
      }
      if (!text2) {
        return [[DIFF_DELETE, text1]];
      }
      var longtext = text1.length > text2.length ? text1 : text2;
      var shorttext = text1.length > text2.length ? text2 : text1;
      var i = longtext.indexOf(shorttext);
      if (i !== -1) {
        diffs = [
          [DIFF_INSERT, longtext.substring(0, i)],
          [DIFF_EQUAL, shorttext],
          [DIFF_INSERT, longtext.substring(i + shorttext.length)]
        ];
        if (text1.length > text2.length) {
          diffs[0][0] = diffs[2][0] = DIFF_DELETE;
        }
        return diffs;
      }
      if (shorttext.length === 1) {
        return [
          [DIFF_DELETE, text1],
          [DIFF_INSERT, text2]
        ];
      }
      var hm = diff_halfMatch_(text1, text2);
      if (hm) {
        var text1_a = hm[0];
        var text1_b = hm[1];
        var text2_a = hm[2];
        var text2_b = hm[3];
        var mid_common = hm[4];
        var diffs_a = diff_main(text1_a, text2_a);
        var diffs_b = diff_main(text1_b, text2_b);
        return diffs_a.concat([[DIFF_EQUAL, mid_common]], diffs_b);
      }
      return diff_bisect_(text1, text2);
    }
    function diff_bisect_(text1, text2) {
      var text1_length = text1.length;
      var text2_length = text2.length;
      var max_d = Math.ceil((text1_length + text2_length) / 2);
      var v_offset = max_d;
      var v_length = 2 * max_d;
      var v1 = new Array(v_length);
      var v2 = new Array(v_length);
      for (var x = 0; x < v_length; x++) {
        v1[x] = -1;
        v2[x] = -1;
      }
      v1[v_offset + 1] = 0;
      v2[v_offset + 1] = 0;
      var delta = text1_length - text2_length;
      var front = delta % 2 !== 0;
      var k1start = 0;
      var k1end = 0;
      var k2start = 0;
      var k2end = 0;
      for (var d = 0; d < max_d; d++) {
        for (var k1 = -d + k1start; k1 <= d - k1end; k1 += 2) {
          var k1_offset = v_offset + k1;
          var x1;
          if (k1 === -d || k1 !== d && v1[k1_offset - 1] < v1[k1_offset + 1]) {
            x1 = v1[k1_offset + 1];
          } else {
            x1 = v1[k1_offset - 1] + 1;
          }
          var y1 = x1 - k1;
          while (x1 < text1_length && y1 < text2_length && text1.charAt(x1) === text2.charAt(y1)) {
            x1++;
            y1++;
          }
          v1[k1_offset] = x1;
          if (x1 > text1_length) {
            k1end += 2;
          } else if (y1 > text2_length) {
            k1start += 2;
          } else if (front) {
            var k2_offset = v_offset + delta - k1;
            if (k2_offset >= 0 && k2_offset < v_length && v2[k2_offset] !== -1) {
              var x2 = text1_length - v2[k2_offset];
              if (x1 >= x2) {
                return diff_bisectSplit_(text1, text2, x1, y1);
              }
            }
          }
        }
        for (var k2 = -d + k2start; k2 <= d - k2end; k2 += 2) {
          var k2_offset = v_offset + k2;
          var x2;
          if (k2 === -d || k2 !== d && v2[k2_offset - 1] < v2[k2_offset + 1]) {
            x2 = v2[k2_offset + 1];
          } else {
            x2 = v2[k2_offset - 1] + 1;
          }
          var y2 = x2 - k2;
          while (x2 < text1_length && y2 < text2_length && text1.charAt(text1_length - x2 - 1) === text2.charAt(text2_length - y2 - 1)) {
            x2++;
            y2++;
          }
          v2[k2_offset] = x2;
          if (x2 > text1_length) {
            k2end += 2;
          } else if (y2 > text2_length) {
            k2start += 2;
          } else if (!front) {
            var k1_offset = v_offset + delta - k2;
            if (k1_offset >= 0 && k1_offset < v_length && v1[k1_offset] !== -1) {
              var x1 = v1[k1_offset];
              var y1 = v_offset + x1 - k1_offset;
              x2 = text1_length - x2;
              if (x1 >= x2) {
                return diff_bisectSplit_(text1, text2, x1, y1);
              }
            }
          }
        }
      }
      return [
        [DIFF_DELETE, text1],
        [DIFF_INSERT, text2]
      ];
    }
    function diff_bisectSplit_(text1, text2, x, y) {
      var text1a = text1.substring(0, x);
      var text2a = text2.substring(0, y);
      var text1b = text1.substring(x);
      var text2b = text2.substring(y);
      var diffs = diff_main(text1a, text2a);
      var diffsb = diff_main(text1b, text2b);
      return diffs.concat(diffsb);
    }
    function diff_commonPrefix(text1, text2) {
      if (!text1 || !text2 || text1.charAt(0) !== text2.charAt(0)) {
        return 0;
      }
      var pointermin = 0;
      var pointermax = Math.min(text1.length, text2.length);
      var pointermid = pointermax;
      var pointerstart = 0;
      while (pointermin < pointermid) {
        if (text1.substring(pointerstart, pointermid) == text2.substring(pointerstart, pointermid)) {
          pointermin = pointermid;
          pointerstart = pointermin;
        } else {
          pointermax = pointermid;
        }
        pointermid = Math.floor((pointermax - pointermin) / 2 + pointermin);
      }
      if (is_surrogate_pair_start(text1.charCodeAt(pointermid - 1))) {
        pointermid--;
      }
      return pointermid;
    }
    function diff_commonOverlap_(text1, text2) {
      var text1_length = text1.length;
      var text2_length = text2.length;
      if (text1_length == 0 || text2_length == 0) {
        return 0;
      }
      if (text1_length > text2_length) {
        text1 = text1.substring(text1_length - text2_length);
      } else if (text1_length < text2_length) {
        text2 = text2.substring(0, text1_length);
      }
      var text_length = Math.min(text1_length, text2_length);
      if (text1 == text2) {
        return text_length;
      }
      var best = 0;
      var length = 1;
      while (true) {
        var pattern = text1.substring(text_length - length);
        var found = text2.indexOf(pattern);
        if (found == -1) {
          return best;
        }
        length += found;
        if (found == 0 || text1.substring(text_length - length) == text2.substring(0, length)) {
          best = length;
          length++;
        }
      }
    }
    function diff_commonSuffix(text1, text2) {
      if (!text1 || !text2 || text1.slice(-1) !== text2.slice(-1)) {
        return 0;
      }
      var pointermin = 0;
      var pointermax = Math.min(text1.length, text2.length);
      var pointermid = pointermax;
      var pointerend = 0;
      while (pointermin < pointermid) {
        if (text1.substring(text1.length - pointermid, text1.length - pointerend) == text2.substring(text2.length - pointermid, text2.length - pointerend)) {
          pointermin = pointermid;
          pointerend = pointermin;
        } else {
          pointermax = pointermid;
        }
        pointermid = Math.floor((pointermax - pointermin) / 2 + pointermin);
      }
      if (is_surrogate_pair_end(text1.charCodeAt(text1.length - pointermid))) {
        pointermid--;
      }
      return pointermid;
    }
    function diff_halfMatch_(text1, text2) {
      var longtext = text1.length > text2.length ? text1 : text2;
      var shorttext = text1.length > text2.length ? text2 : text1;
      if (longtext.length < 4 || shorttext.length * 2 < longtext.length) {
        return null;
      }
      function diff_halfMatchI_(longtext2, shorttext2, i) {
        var seed = longtext2.substring(i, i + Math.floor(longtext2.length / 4));
        var j = -1;
        var best_common = "";
        var best_longtext_a, best_longtext_b, best_shorttext_a, best_shorttext_b;
        while ((j = shorttext2.indexOf(seed, j + 1)) !== -1) {
          var prefixLength = diff_commonPrefix(
            longtext2.substring(i),
            shorttext2.substring(j)
          );
          var suffixLength = diff_commonSuffix(
            longtext2.substring(0, i),
            shorttext2.substring(0, j)
          );
          if (best_common.length < suffixLength + prefixLength) {
            best_common = shorttext2.substring(j - suffixLength, j) + shorttext2.substring(j, j + prefixLength);
            best_longtext_a = longtext2.substring(0, i - suffixLength);
            best_longtext_b = longtext2.substring(i + prefixLength);
            best_shorttext_a = shorttext2.substring(0, j - suffixLength);
            best_shorttext_b = shorttext2.substring(j + prefixLength);
          }
        }
        if (best_common.length * 2 >= longtext2.length) {
          return [
            best_longtext_a,
            best_longtext_b,
            best_shorttext_a,
            best_shorttext_b,
            best_common
          ];
        } else {
          return null;
        }
      }
      var hm1 = diff_halfMatchI_(
        longtext,
        shorttext,
        Math.ceil(longtext.length / 4)
      );
      var hm2 = diff_halfMatchI_(
        longtext,
        shorttext,
        Math.ceil(longtext.length / 2)
      );
      var hm;
      if (!hm1 && !hm2) {
        return null;
      } else if (!hm2) {
        hm = hm1;
      } else if (!hm1) {
        hm = hm2;
      } else {
        hm = hm1[4].length > hm2[4].length ? hm1 : hm2;
      }
      var text1_a, text1_b, text2_a, text2_b;
      if (text1.length > text2.length) {
        text1_a = hm[0];
        text1_b = hm[1];
        text2_a = hm[2];
        text2_b = hm[3];
      } else {
        text2_a = hm[0];
        text2_b = hm[1];
        text1_a = hm[2];
        text1_b = hm[3];
      }
      var mid_common = hm[4];
      return [text1_a, text1_b, text2_a, text2_b, mid_common];
    }
    function diff_cleanupSemantic(diffs) {
      var changes = false;
      var equalities = [];
      var equalitiesLength = 0;
      var lastequality = null;
      var pointer = 0;
      var length_insertions1 = 0;
      var length_deletions1 = 0;
      var length_insertions2 = 0;
      var length_deletions2 = 0;
      while (pointer < diffs.length) {
        if (diffs[pointer][0] == DIFF_EQUAL) {
          equalities[equalitiesLength++] = pointer;
          length_insertions1 = length_insertions2;
          length_deletions1 = length_deletions2;
          length_insertions2 = 0;
          length_deletions2 = 0;
          lastequality = diffs[pointer][1];
        } else {
          if (diffs[pointer][0] == DIFF_INSERT) {
            length_insertions2 += diffs[pointer][1].length;
          } else {
            length_deletions2 += diffs[pointer][1].length;
          }
          if (lastequality && lastequality.length <= Math.max(length_insertions1, length_deletions1) && lastequality.length <= Math.max(length_insertions2, length_deletions2)) {
            diffs.splice(equalities[equalitiesLength - 1], 0, [
              DIFF_DELETE,
              lastequality
            ]);
            diffs[equalities[equalitiesLength - 1] + 1][0] = DIFF_INSERT;
            equalitiesLength--;
            equalitiesLength--;
            pointer = equalitiesLength > 0 ? equalities[equalitiesLength - 1] : -1;
            length_insertions1 = 0;
            length_deletions1 = 0;
            length_insertions2 = 0;
            length_deletions2 = 0;
            lastequality = null;
            changes = true;
          }
        }
        pointer++;
      }
      if (changes) {
        diff_cleanupMerge(diffs);
      }
      diff_cleanupSemanticLossless(diffs);
      pointer = 1;
      while (pointer < diffs.length) {
        if (diffs[pointer - 1][0] == DIFF_DELETE && diffs[pointer][0] == DIFF_INSERT) {
          var deletion = diffs[pointer - 1][1];
          var insertion = diffs[pointer][1];
          var overlap_length1 = diff_commonOverlap_(deletion, insertion);
          var overlap_length2 = diff_commonOverlap_(insertion, deletion);
          if (overlap_length1 >= overlap_length2) {
            if (overlap_length1 >= deletion.length / 2 || overlap_length1 >= insertion.length / 2) {
              diffs.splice(pointer, 0, [
                DIFF_EQUAL,
                insertion.substring(0, overlap_length1)
              ]);
              diffs[pointer - 1][1] = deletion.substring(
                0,
                deletion.length - overlap_length1
              );
              diffs[pointer + 1][1] = insertion.substring(overlap_length1);
              pointer++;
            }
          } else {
            if (overlap_length2 >= deletion.length / 2 || overlap_length2 >= insertion.length / 2) {
              diffs.splice(pointer, 0, [
                DIFF_EQUAL,
                deletion.substring(0, overlap_length2)
              ]);
              diffs[pointer - 1][0] = DIFF_INSERT;
              diffs[pointer - 1][1] = insertion.substring(
                0,
                insertion.length - overlap_length2
              );
              diffs[pointer + 1][0] = DIFF_DELETE;
              diffs[pointer + 1][1] = deletion.substring(overlap_length2);
              pointer++;
            }
          }
          pointer++;
        }
        pointer++;
      }
    }
    var nonAlphaNumericRegex_ = /[^a-zA-Z0-9]/;
    var whitespaceRegex_ = /\s/;
    var linebreakRegex_ = /[\r\n]/;
    var blanklineEndRegex_ = /\n\r?\n$/;
    var blanklineStartRegex_ = /^\r?\n\r?\n/;
    function diff_cleanupSemanticLossless(diffs) {
      function diff_cleanupSemanticScore_(one, two) {
        if (!one || !two) {
          return 6;
        }
        var char1 = one.charAt(one.length - 1);
        var char2 = two.charAt(0);
        var nonAlphaNumeric1 = char1.match(nonAlphaNumericRegex_);
        var nonAlphaNumeric2 = char2.match(nonAlphaNumericRegex_);
        var whitespace1 = nonAlphaNumeric1 && char1.match(whitespaceRegex_);
        var whitespace2 = nonAlphaNumeric2 && char2.match(whitespaceRegex_);
        var lineBreak1 = whitespace1 && char1.match(linebreakRegex_);
        var lineBreak2 = whitespace2 && char2.match(linebreakRegex_);
        var blankLine1 = lineBreak1 && one.match(blanklineEndRegex_);
        var blankLine2 = lineBreak2 && two.match(blanklineStartRegex_);
        if (blankLine1 || blankLine2) {
          return 5;
        } else if (lineBreak1 || lineBreak2) {
          return 4;
        } else if (nonAlphaNumeric1 && !whitespace1 && whitespace2) {
          return 3;
        } else if (whitespace1 || whitespace2) {
          return 2;
        } else if (nonAlphaNumeric1 || nonAlphaNumeric2) {
          return 1;
        }
        return 0;
      }
      var pointer = 1;
      while (pointer < diffs.length - 1) {
        if (diffs[pointer - 1][0] == DIFF_EQUAL && diffs[pointer + 1][0] == DIFF_EQUAL) {
          var equality1 = diffs[pointer - 1][1];
          var edit = diffs[pointer][1];
          var equality2 = diffs[pointer + 1][1];
          var commonOffset = diff_commonSuffix(equality1, edit);
          if (commonOffset) {
            var commonString = edit.substring(edit.length - commonOffset);
            equality1 = equality1.substring(0, equality1.length - commonOffset);
            edit = commonString + edit.substring(0, edit.length - commonOffset);
            equality2 = commonString + equality2;
          }
          var bestEquality1 = equality1;
          var bestEdit = edit;
          var bestEquality2 = equality2;
          var bestScore = diff_cleanupSemanticScore_(equality1, edit) + diff_cleanupSemanticScore_(edit, equality2);
          while (edit.charAt(0) === equality2.charAt(0)) {
            equality1 += edit.charAt(0);
            edit = edit.substring(1) + equality2.charAt(0);
            equality2 = equality2.substring(1);
            var score = diff_cleanupSemanticScore_(equality1, edit) + diff_cleanupSemanticScore_(edit, equality2);
            if (score >= bestScore) {
              bestScore = score;
              bestEquality1 = equality1;
              bestEdit = edit;
              bestEquality2 = equality2;
            }
          }
          if (diffs[pointer - 1][1] != bestEquality1) {
            if (bestEquality1) {
              diffs[pointer - 1][1] = bestEquality1;
            } else {
              diffs.splice(pointer - 1, 1);
              pointer--;
            }
            diffs[pointer][1] = bestEdit;
            if (bestEquality2) {
              diffs[pointer + 1][1] = bestEquality2;
            } else {
              diffs.splice(pointer + 1, 1);
              pointer--;
            }
          }
        }
        pointer++;
      }
    }
    function diff_cleanupMerge(diffs, fix_unicode) {
      diffs.push([DIFF_EQUAL, ""]);
      var pointer = 0;
      var count_delete = 0;
      var count_insert = 0;
      var text_delete = "";
      var text_insert = "";
      var commonlength;
      while (pointer < diffs.length) {
        if (pointer < diffs.length - 1 && !diffs[pointer][1]) {
          diffs.splice(pointer, 1);
          continue;
        }
        switch (diffs[pointer][0]) {
          case DIFF_INSERT:
            count_insert++;
            text_insert += diffs[pointer][1];
            pointer++;
            break;
          case DIFF_DELETE:
            count_delete++;
            text_delete += diffs[pointer][1];
            pointer++;
            break;
          case DIFF_EQUAL:
            var previous_equality = pointer - count_insert - count_delete - 1;
            if (fix_unicode) {
              if (previous_equality >= 0 && ends_with_pair_start(diffs[previous_equality][1])) {
                var stray = diffs[previous_equality][1].slice(-1);
                diffs[previous_equality][1] = diffs[previous_equality][1].slice(
                  0,
                  -1
                );
                text_delete = stray + text_delete;
                text_insert = stray + text_insert;
                if (!diffs[previous_equality][1]) {
                  diffs.splice(previous_equality, 1);
                  pointer--;
                  var k = previous_equality - 1;
                  if (diffs[k] && diffs[k][0] === DIFF_INSERT) {
                    count_insert++;
                    text_insert = diffs[k][1] + text_insert;
                    k--;
                  }
                  if (diffs[k] && diffs[k][0] === DIFF_DELETE) {
                    count_delete++;
                    text_delete = diffs[k][1] + text_delete;
                    k--;
                  }
                  previous_equality = k;
                }
              }
              if (starts_with_pair_end(diffs[pointer][1])) {
                var stray = diffs[pointer][1].charAt(0);
                diffs[pointer][1] = diffs[pointer][1].slice(1);
                text_delete += stray;
                text_insert += stray;
              }
            }
            if (pointer < diffs.length - 1 && !diffs[pointer][1]) {
              diffs.splice(pointer, 1);
              break;
            }
            if (text_delete.length > 0 || text_insert.length > 0) {
              if (text_delete.length > 0 && text_insert.length > 0) {
                commonlength = diff_commonPrefix(text_insert, text_delete);
                if (commonlength !== 0) {
                  if (previous_equality >= 0) {
                    diffs[previous_equality][1] += text_insert.substring(
                      0,
                      commonlength
                    );
                  } else {
                    diffs.splice(0, 0, [
                      DIFF_EQUAL,
                      text_insert.substring(0, commonlength)
                    ]);
                    pointer++;
                  }
                  text_insert = text_insert.substring(commonlength);
                  text_delete = text_delete.substring(commonlength);
                }
                commonlength = diff_commonSuffix(text_insert, text_delete);
                if (commonlength !== 0) {
                  diffs[pointer][1] = text_insert.substring(text_insert.length - commonlength) + diffs[pointer][1];
                  text_insert = text_insert.substring(
                    0,
                    text_insert.length - commonlength
                  );
                  text_delete = text_delete.substring(
                    0,
                    text_delete.length - commonlength
                  );
                }
              }
              var n = count_insert + count_delete;
              if (text_delete.length === 0 && text_insert.length === 0) {
                diffs.splice(pointer - n, n);
                pointer = pointer - n;
              } else if (text_delete.length === 0) {
                diffs.splice(pointer - n, n, [DIFF_INSERT, text_insert]);
                pointer = pointer - n + 1;
              } else if (text_insert.length === 0) {
                diffs.splice(pointer - n, n, [DIFF_DELETE, text_delete]);
                pointer = pointer - n + 1;
              } else {
                diffs.splice(
                  pointer - n,
                  n,
                  [DIFF_DELETE, text_delete],
                  [DIFF_INSERT, text_insert]
                );
                pointer = pointer - n + 2;
              }
            }
            if (pointer !== 0 && diffs[pointer - 1][0] === DIFF_EQUAL) {
              diffs[pointer - 1][1] += diffs[pointer][1];
              diffs.splice(pointer, 1);
            } else {
              pointer++;
            }
            count_insert = 0;
            count_delete = 0;
            text_delete = "";
            text_insert = "";
            break;
        }
      }
      if (diffs[diffs.length - 1][1] === "") {
        diffs.pop();
      }
      var changes = false;
      pointer = 1;
      while (pointer < diffs.length - 1) {
        if (diffs[pointer - 1][0] === DIFF_EQUAL && diffs[pointer + 1][0] === DIFF_EQUAL) {
          if (diffs[pointer][1].substring(
            diffs[pointer][1].length - diffs[pointer - 1][1].length
          ) === diffs[pointer - 1][1]) {
            diffs[pointer][1] = diffs[pointer - 1][1] + diffs[pointer][1].substring(
              0,
              diffs[pointer][1].length - diffs[pointer - 1][1].length
            );
            diffs[pointer + 1][1] = diffs[pointer - 1][1] + diffs[pointer + 1][1];
            diffs.splice(pointer - 1, 1);
            changes = true;
          } else if (diffs[pointer][1].substring(0, diffs[pointer + 1][1].length) == diffs[pointer + 1][1]) {
            diffs[pointer - 1][1] += diffs[pointer + 1][1];
            diffs[pointer][1] = diffs[pointer][1].substring(diffs[pointer + 1][1].length) + diffs[pointer + 1][1];
            diffs.splice(pointer + 1, 1);
            changes = true;
          }
        }
        pointer++;
      }
      if (changes) {
        diff_cleanupMerge(diffs, fix_unicode);
      }
    }
    function is_surrogate_pair_start(charCode) {
      return charCode >= 55296 && charCode <= 56319;
    }
    function is_surrogate_pair_end(charCode) {
      return charCode >= 56320 && charCode <= 57343;
    }
    function starts_with_pair_end(str) {
      return is_surrogate_pair_end(str.charCodeAt(0));
    }
    function ends_with_pair_start(str) {
      return is_surrogate_pair_start(str.charCodeAt(str.length - 1));
    }
    function remove_empty_tuples(tuples) {
      var ret = [];
      for (var i = 0; i < tuples.length; i++) {
        if (tuples[i][1].length > 0) {
          ret.push(tuples[i]);
        }
      }
      return ret;
    }
    function make_edit_splice(before, oldMiddle, newMiddle, after) {
      if (ends_with_pair_start(before) || starts_with_pair_end(after)) {
        return null;
      }
      return remove_empty_tuples([
        [DIFF_EQUAL, before],
        [DIFF_DELETE, oldMiddle],
        [DIFF_INSERT, newMiddle],
        [DIFF_EQUAL, after]
      ]);
    }
    function find_cursor_edit_diff(oldText, newText, cursor_pos) {
      var oldRange = typeof cursor_pos === "number" ? { index: cursor_pos, length: 0 } : cursor_pos.oldRange;
      var newRange = typeof cursor_pos === "number" ? null : cursor_pos.newRange;
      var oldLength = oldText.length;
      var newLength = newText.length;
      if (oldRange.length === 0 && (newRange === null || newRange.length === 0)) {
        var oldCursor = oldRange.index;
        var oldBefore = oldText.slice(0, oldCursor);
        var oldAfter = oldText.slice(oldCursor);
        var maybeNewCursor = newRange ? newRange.index : null;
        editBefore: {
          var newCursor = oldCursor + newLength - oldLength;
          if (maybeNewCursor !== null && maybeNewCursor !== newCursor) {
            break editBefore;
          }
          if (newCursor < 0 || newCursor > newLength) {
            break editBefore;
          }
          var newBefore = newText.slice(0, newCursor);
          var newAfter = newText.slice(newCursor);
          if (newAfter !== oldAfter) {
            break editBefore;
          }
          var prefixLength = Math.min(oldCursor, newCursor);
          var oldPrefix = oldBefore.slice(0, prefixLength);
          var newPrefix = newBefore.slice(0, prefixLength);
          if (oldPrefix !== newPrefix) {
            break editBefore;
          }
          var oldMiddle = oldBefore.slice(prefixLength);
          var newMiddle = newBefore.slice(prefixLength);
          return make_edit_splice(oldPrefix, oldMiddle, newMiddle, oldAfter);
        }
        editAfter: {
          if (maybeNewCursor !== null && maybeNewCursor !== oldCursor) {
            break editAfter;
          }
          var cursor = oldCursor;
          var newBefore = newText.slice(0, cursor);
          var newAfter = newText.slice(cursor);
          if (newBefore !== oldBefore) {
            break editAfter;
          }
          var suffixLength = Math.min(oldLength - cursor, newLength - cursor);
          var oldSuffix = oldAfter.slice(oldAfter.length - suffixLength);
          var newSuffix = newAfter.slice(newAfter.length - suffixLength);
          if (oldSuffix !== newSuffix) {
            break editAfter;
          }
          var oldMiddle = oldAfter.slice(0, oldAfter.length - suffixLength);
          var newMiddle = newAfter.slice(0, newAfter.length - suffixLength);
          return make_edit_splice(oldBefore, oldMiddle, newMiddle, oldSuffix);
        }
      }
      if (oldRange.length > 0 && newRange && newRange.length === 0) {
        replaceRange: {
          var oldPrefix = oldText.slice(0, oldRange.index);
          var oldSuffix = oldText.slice(oldRange.index + oldRange.length);
          var prefixLength = oldPrefix.length;
          var suffixLength = oldSuffix.length;
          if (newLength < prefixLength + suffixLength) {
            break replaceRange;
          }
          var newPrefix = newText.slice(0, prefixLength);
          var newSuffix = newText.slice(newLength - suffixLength);
          if (oldPrefix !== newPrefix || oldSuffix !== newSuffix) {
            break replaceRange;
          }
          var oldMiddle = oldText.slice(prefixLength, oldLength - suffixLength);
          var newMiddle = newText.slice(prefixLength, newLength - suffixLength);
          return make_edit_splice(oldPrefix, oldMiddle, newMiddle, oldSuffix);
        }
      }
      return null;
    }
    function diff(text1, text2, cursor_pos, cleanup) {
      return diff_main(text1, text2, cursor_pos, cleanup, true);
    }
    diff.INSERT = DIFF_INSERT;
    diff.DELETE = DIFF_DELETE;
    diff.EQUAL = DIFF_EQUAL;
    module.exports = diff;
  }
});
export default require_diff();
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsibm9kZV9tb2R1bGVzL2Zhc3QtZGlmZi9kaWZmLmpzIl0sCiAgInNvdXJjZXNDb250ZW50IjogWyJjb25zdCBfX2luamVjdGVkX2ZpbGVuYW1lX18gPSBcIkU6XFxcXHFkXFxcXHZ1ZTMtYWRtaW5cXFxcbm9kZV9tb2R1bGVzXFxcXGZhc3QtZGlmZlxcXFxkaWZmLmpzXCI7Y29uc3QgX19pbmplY3RlZF9kaXJuYW1lX18gPSBcIkU6XFxcXHFkXFxcXHZ1ZTMtYWRtaW5cXFxcbm9kZV9tb2R1bGVzXFxcXGZhc3QtZGlmZlwiO2NvbnN0IF9faW5qZWN0ZWRfaW1wb3J0X21ldGFfdXJsX18gPSBcImZpbGU6Ly8vRTovcWQvdnVlMy1hZG1pbi9ub2RlX21vZHVsZXMvZmFzdC1kaWZmL2RpZmYuanNcIjsvKipcbiAqIFRoaXMgbGlicmFyeSBtb2RpZmllcyB0aGUgZGlmZi1wYXRjaC1tYXRjaCBsaWJyYXJ5IGJ5IE5laWwgRnJhc2VyXG4gKiBieSByZW1vdmluZyB0aGUgcGF0Y2ggYW5kIG1hdGNoIGZ1bmN0aW9uYWxpdHkgYW5kIGNlcnRhaW4gYWR2YW5jZWRcbiAqIG9wdGlvbnMgaW4gdGhlIGRpZmYgZnVuY3Rpb24uIFRoZSBvcmlnaW5hbCBsaWNlbnNlIGlzIGFzIGZvbGxvd3M6XG4gKlxuICogPT09XG4gKlxuICogRGlmZiBNYXRjaCBhbmQgUGF0Y2hcbiAqXG4gKiBDb3B5cmlnaHQgMjAwNiBHb29nbGUgSW5jLlxuICogaHR0cDovL2NvZGUuZ29vZ2xlLmNvbS9wL2dvb2dsZS1kaWZmLW1hdGNoLXBhdGNoL1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuLyoqXG4gKiBUaGUgZGF0YSBzdHJ1Y3R1cmUgcmVwcmVzZW50aW5nIGEgZGlmZiBpcyBhbiBhcnJheSBvZiB0dXBsZXM6XG4gKiBbW0RJRkZfREVMRVRFLCAnSGVsbG8nXSwgW0RJRkZfSU5TRVJULCAnR29vZGJ5ZSddLCBbRElGRl9FUVVBTCwgJyB3b3JsZC4nXV1cbiAqIHdoaWNoIG1lYW5zOiBkZWxldGUgJ0hlbGxvJywgYWRkICdHb29kYnllJyBhbmQga2VlcCAnIHdvcmxkLidcbiAqL1xudmFyIERJRkZfREVMRVRFID0gLTE7XG52YXIgRElGRl9JTlNFUlQgPSAxO1xudmFyIERJRkZfRVFVQUwgPSAwO1xuXG4vKipcbiAqIEZpbmQgdGhlIGRpZmZlcmVuY2VzIGJldHdlZW4gdHdvIHRleHRzLiAgU2ltcGxpZmllcyB0aGUgcHJvYmxlbSBieSBzdHJpcHBpbmdcbiAqIGFueSBjb21tb24gcHJlZml4IG9yIHN1ZmZpeCBvZmYgdGhlIHRleHRzIGJlZm9yZSBkaWZmaW5nLlxuICogQHBhcmFtIHtzdHJpbmd9IHRleHQxIE9sZCBzdHJpbmcgdG8gYmUgZGlmZmVkLlxuICogQHBhcmFtIHtzdHJpbmd9IHRleHQyIE5ldyBzdHJpbmcgdG8gYmUgZGlmZmVkLlxuICogQHBhcmFtIHtJbnR8T2JqZWN0fSBbY3Vyc29yX3Bvc10gRWRpdCBwb3NpdGlvbiBpbiB0ZXh0MSBvciBvYmplY3Qgd2l0aCBtb3JlIGluZm9cbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW2NsZWFudXBdIEFwcGx5IHNlbWFudGljIGNsZWFudXAgYmVmb3JlIHJldHVybmluZy5cbiAqIEByZXR1cm4ge0FycmF5fSBBcnJheSBvZiBkaWZmIHR1cGxlcy5cbiAqL1xuZnVuY3Rpb24gZGlmZl9tYWluKHRleHQxLCB0ZXh0MiwgY3Vyc29yX3BvcywgY2xlYW51cCwgX2ZpeF91bmljb2RlKSB7XG4gIC8vIENoZWNrIGZvciBlcXVhbGl0eVxuICBpZiAodGV4dDEgPT09IHRleHQyKSB7XG4gICAgaWYgKHRleHQxKSB7XG4gICAgICByZXR1cm4gW1tESUZGX0VRVUFMLCB0ZXh0MV1dO1xuICAgIH1cbiAgICByZXR1cm4gW107XG4gIH1cblxuICBpZiAoY3Vyc29yX3BvcyAhPSBudWxsKSB7XG4gICAgdmFyIGVkaXRkaWZmID0gZmluZF9jdXJzb3JfZWRpdF9kaWZmKHRleHQxLCB0ZXh0MiwgY3Vyc29yX3Bvcyk7XG4gICAgaWYgKGVkaXRkaWZmKSB7XG4gICAgICByZXR1cm4gZWRpdGRpZmY7XG4gICAgfVxuICB9XG5cbiAgLy8gVHJpbSBvZmYgY29tbW9uIHByZWZpeCAoc3BlZWR1cCkuXG4gIHZhciBjb21tb25sZW5ndGggPSBkaWZmX2NvbW1vblByZWZpeCh0ZXh0MSwgdGV4dDIpO1xuICB2YXIgY29tbW9ucHJlZml4ID0gdGV4dDEuc3Vic3RyaW5nKDAsIGNvbW1vbmxlbmd0aCk7XG4gIHRleHQxID0gdGV4dDEuc3Vic3RyaW5nKGNvbW1vbmxlbmd0aCk7XG4gIHRleHQyID0gdGV4dDIuc3Vic3RyaW5nKGNvbW1vbmxlbmd0aCk7XG5cbiAgLy8gVHJpbSBvZmYgY29tbW9uIHN1ZmZpeCAoc3BlZWR1cCkuXG4gIGNvbW1vbmxlbmd0aCA9IGRpZmZfY29tbW9uU3VmZml4KHRleHQxLCB0ZXh0Mik7XG4gIHZhciBjb21tb25zdWZmaXggPSB0ZXh0MS5zdWJzdHJpbmcodGV4dDEubGVuZ3RoIC0gY29tbW9ubGVuZ3RoKTtcbiAgdGV4dDEgPSB0ZXh0MS5zdWJzdHJpbmcoMCwgdGV4dDEubGVuZ3RoIC0gY29tbW9ubGVuZ3RoKTtcbiAgdGV4dDIgPSB0ZXh0Mi5zdWJzdHJpbmcoMCwgdGV4dDIubGVuZ3RoIC0gY29tbW9ubGVuZ3RoKTtcblxuICAvLyBDb21wdXRlIHRoZSBkaWZmIG9uIHRoZSBtaWRkbGUgYmxvY2suXG4gIHZhciBkaWZmcyA9IGRpZmZfY29tcHV0ZV8odGV4dDEsIHRleHQyKTtcblxuICAvLyBSZXN0b3JlIHRoZSBwcmVmaXggYW5kIHN1ZmZpeC5cbiAgaWYgKGNvbW1vbnByZWZpeCkge1xuICAgIGRpZmZzLnVuc2hpZnQoW0RJRkZfRVFVQUwsIGNvbW1vbnByZWZpeF0pO1xuICB9XG4gIGlmIChjb21tb25zdWZmaXgpIHtcbiAgICBkaWZmcy5wdXNoKFtESUZGX0VRVUFMLCBjb21tb25zdWZmaXhdKTtcbiAgfVxuICBkaWZmX2NsZWFudXBNZXJnZShkaWZmcywgX2ZpeF91bmljb2RlKTtcbiAgaWYgKGNsZWFudXApIHtcbiAgICBkaWZmX2NsZWFudXBTZW1hbnRpYyhkaWZmcyk7XG4gIH1cbiAgcmV0dXJuIGRpZmZzO1xufVxuXG4vKipcbiAqIEZpbmQgdGhlIGRpZmZlcmVuY2VzIGJldHdlZW4gdHdvIHRleHRzLiAgQXNzdW1lcyB0aGF0IHRoZSB0ZXh0cyBkbyBub3RcbiAqIGhhdmUgYW55IGNvbW1vbiBwcmVmaXggb3Igc3VmZml4LlxuICogQHBhcmFtIHtzdHJpbmd9IHRleHQxIE9sZCBzdHJpbmcgdG8gYmUgZGlmZmVkLlxuICogQHBhcmFtIHtzdHJpbmd9IHRleHQyIE5ldyBzdHJpbmcgdG8gYmUgZGlmZmVkLlxuICogQHJldHVybiB7QXJyYXl9IEFycmF5IG9mIGRpZmYgdHVwbGVzLlxuICovXG5mdW5jdGlvbiBkaWZmX2NvbXB1dGVfKHRleHQxLCB0ZXh0Mikge1xuICB2YXIgZGlmZnM7XG5cbiAgaWYgKCF0ZXh0MSkge1xuICAgIC8vIEp1c3QgYWRkIHNvbWUgdGV4dCAoc3BlZWR1cCkuXG4gICAgcmV0dXJuIFtbRElGRl9JTlNFUlQsIHRleHQyXV07XG4gIH1cblxuICBpZiAoIXRleHQyKSB7XG4gICAgLy8gSnVzdCBkZWxldGUgc29tZSB0ZXh0IChzcGVlZHVwKS5cbiAgICByZXR1cm4gW1tESUZGX0RFTEVURSwgdGV4dDFdXTtcbiAgfVxuXG4gIHZhciBsb25ndGV4dCA9IHRleHQxLmxlbmd0aCA+IHRleHQyLmxlbmd0aCA/IHRleHQxIDogdGV4dDI7XG4gIHZhciBzaG9ydHRleHQgPSB0ZXh0MS5sZW5ndGggPiB0ZXh0Mi5sZW5ndGggPyB0ZXh0MiA6IHRleHQxO1xuICB2YXIgaSA9IGxvbmd0ZXh0LmluZGV4T2Yoc2hvcnR0ZXh0KTtcbiAgaWYgKGkgIT09IC0xKSB7XG4gICAgLy8gU2hvcnRlciB0ZXh0IGlzIGluc2lkZSB0aGUgbG9uZ2VyIHRleHQgKHNwZWVkdXApLlxuICAgIGRpZmZzID0gW1xuICAgICAgW0RJRkZfSU5TRVJULCBsb25ndGV4dC5zdWJzdHJpbmcoMCwgaSldLFxuICAgICAgW0RJRkZfRVFVQUwsIHNob3J0dGV4dF0sXG4gICAgICBbRElGRl9JTlNFUlQsIGxvbmd0ZXh0LnN1YnN0cmluZyhpICsgc2hvcnR0ZXh0Lmxlbmd0aCldLFxuICAgIF07XG4gICAgLy8gU3dhcCBpbnNlcnRpb25zIGZvciBkZWxldGlvbnMgaWYgZGlmZiBpcyByZXZlcnNlZC5cbiAgICBpZiAodGV4dDEubGVuZ3RoID4gdGV4dDIubGVuZ3RoKSB7XG4gICAgICBkaWZmc1swXVswXSA9IGRpZmZzWzJdWzBdID0gRElGRl9ERUxFVEU7XG4gICAgfVxuICAgIHJldHVybiBkaWZmcztcbiAgfVxuXG4gIGlmIChzaG9ydHRleHQubGVuZ3RoID09PSAxKSB7XG4gICAgLy8gU2luZ2xlIGNoYXJhY3RlciBzdHJpbmcuXG4gICAgLy8gQWZ0ZXIgdGhlIHByZXZpb3VzIHNwZWVkdXAsIHRoZSBjaGFyYWN0ZXIgY2FuJ3QgYmUgYW4gZXF1YWxpdHkuXG4gICAgcmV0dXJuIFtcbiAgICAgIFtESUZGX0RFTEVURSwgdGV4dDFdLFxuICAgICAgW0RJRkZfSU5TRVJULCB0ZXh0Ml0sXG4gICAgXTtcbiAgfVxuXG4gIC8vIENoZWNrIHRvIHNlZSBpZiB0aGUgcHJvYmxlbSBjYW4gYmUgc3BsaXQgaW4gdHdvLlxuICB2YXIgaG0gPSBkaWZmX2hhbGZNYXRjaF8odGV4dDEsIHRleHQyKTtcbiAgaWYgKGhtKSB7XG4gICAgLy8gQSBoYWxmLW1hdGNoIHdhcyBmb3VuZCwgc29ydCBvdXQgdGhlIHJldHVybiBkYXRhLlxuICAgIHZhciB0ZXh0MV9hID0gaG1bMF07XG4gICAgdmFyIHRleHQxX2IgPSBobVsxXTtcbiAgICB2YXIgdGV4dDJfYSA9IGhtWzJdO1xuICAgIHZhciB0ZXh0Ml9iID0gaG1bM107XG4gICAgdmFyIG1pZF9jb21tb24gPSBobVs0XTtcbiAgICAvLyBTZW5kIGJvdGggcGFpcnMgb2ZmIGZvciBzZXBhcmF0ZSBwcm9jZXNzaW5nLlxuICAgIHZhciBkaWZmc19hID0gZGlmZl9tYWluKHRleHQxX2EsIHRleHQyX2EpO1xuICAgIHZhciBkaWZmc19iID0gZGlmZl9tYWluKHRleHQxX2IsIHRleHQyX2IpO1xuICAgIC8vIE1lcmdlIHRoZSByZXN1bHRzLlxuICAgIHJldHVybiBkaWZmc19hLmNvbmNhdChbW0RJRkZfRVFVQUwsIG1pZF9jb21tb25dXSwgZGlmZnNfYik7XG4gIH1cblxuICByZXR1cm4gZGlmZl9iaXNlY3RfKHRleHQxLCB0ZXh0Mik7XG59XG5cbi8qKlxuICogRmluZCB0aGUgJ21pZGRsZSBzbmFrZScgb2YgYSBkaWZmLCBzcGxpdCB0aGUgcHJvYmxlbSBpbiB0d29cbiAqIGFuZCByZXR1cm4gdGhlIHJlY3Vyc2l2ZWx5IGNvbnN0cnVjdGVkIGRpZmYuXG4gKiBTZWUgTXllcnMgMTk4NiBwYXBlcjogQW4gTyhORCkgRGlmZmVyZW5jZSBBbGdvcml0aG0gYW5kIEl0cyBWYXJpYXRpb25zLlxuICogQHBhcmFtIHtzdHJpbmd9IHRleHQxIE9sZCBzdHJpbmcgdG8gYmUgZGlmZmVkLlxuICogQHBhcmFtIHtzdHJpbmd9IHRleHQyIE5ldyBzdHJpbmcgdG8gYmUgZGlmZmVkLlxuICogQHJldHVybiB7QXJyYXl9IEFycmF5IG9mIGRpZmYgdHVwbGVzLlxuICogQHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gZGlmZl9iaXNlY3RfKHRleHQxLCB0ZXh0Mikge1xuICAvLyBDYWNoZSB0aGUgdGV4dCBsZW5ndGhzIHRvIHByZXZlbnQgbXVsdGlwbGUgY2FsbHMuXG4gIHZhciB0ZXh0MV9sZW5ndGggPSB0ZXh0MS5sZW5ndGg7XG4gIHZhciB0ZXh0Ml9sZW5ndGggPSB0ZXh0Mi5sZW5ndGg7XG4gIHZhciBtYXhfZCA9IE1hdGguY2VpbCgodGV4dDFfbGVuZ3RoICsgdGV4dDJfbGVuZ3RoKSAvIDIpO1xuICB2YXIgdl9vZmZzZXQgPSBtYXhfZDtcbiAgdmFyIHZfbGVuZ3RoID0gMiAqIG1heF9kO1xuICB2YXIgdjEgPSBuZXcgQXJyYXkodl9sZW5ndGgpO1xuICB2YXIgdjIgPSBuZXcgQXJyYXkodl9sZW5ndGgpO1xuICAvLyBTZXR0aW5nIGFsbCBlbGVtZW50cyB0byAtMSBpcyBmYXN0ZXIgaW4gQ2hyb21lICYgRmlyZWZveCB0aGFuIG1peGluZ1xuICAvLyBpbnRlZ2VycyBhbmQgdW5kZWZpbmVkLlxuICBmb3IgKHZhciB4ID0gMDsgeCA8IHZfbGVuZ3RoOyB4KyspIHtcbiAgICB2MVt4XSA9IC0xO1xuICAgIHYyW3hdID0gLTE7XG4gIH1cbiAgdjFbdl9vZmZzZXQgKyAxXSA9IDA7XG4gIHYyW3Zfb2Zmc2V0ICsgMV0gPSAwO1xuICB2YXIgZGVsdGEgPSB0ZXh0MV9sZW5ndGggLSB0ZXh0Ml9sZW5ndGg7XG4gIC8vIElmIHRoZSB0b3RhbCBudW1iZXIgb2YgY2hhcmFjdGVycyBpcyBvZGQsIHRoZW4gdGhlIGZyb250IHBhdGggd2lsbCBjb2xsaWRlXG4gIC8vIHdpdGggdGhlIHJldmVyc2UgcGF0aC5cbiAgdmFyIGZyb250ID0gZGVsdGEgJSAyICE9PSAwO1xuICAvLyBPZmZzZXRzIGZvciBzdGFydCBhbmQgZW5kIG9mIGsgbG9vcC5cbiAgLy8gUHJldmVudHMgbWFwcGluZyBvZiBzcGFjZSBiZXlvbmQgdGhlIGdyaWQuXG4gIHZhciBrMXN0YXJ0ID0gMDtcbiAgdmFyIGsxZW5kID0gMDtcbiAgdmFyIGsyc3RhcnQgPSAwO1xuICB2YXIgazJlbmQgPSAwO1xuICBmb3IgKHZhciBkID0gMDsgZCA8IG1heF9kOyBkKyspIHtcbiAgICAvLyBXYWxrIHRoZSBmcm9udCBwYXRoIG9uZSBzdGVwLlxuICAgIGZvciAodmFyIGsxID0gLWQgKyBrMXN0YXJ0OyBrMSA8PSBkIC0gazFlbmQ7IGsxICs9IDIpIHtcbiAgICAgIHZhciBrMV9vZmZzZXQgPSB2X29mZnNldCArIGsxO1xuICAgICAgdmFyIHgxO1xuICAgICAgaWYgKGsxID09PSAtZCB8fCAoazEgIT09IGQgJiYgdjFbazFfb2Zmc2V0IC0gMV0gPCB2MVtrMV9vZmZzZXQgKyAxXSkpIHtcbiAgICAgICAgeDEgPSB2MVtrMV9vZmZzZXQgKyAxXTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHgxID0gdjFbazFfb2Zmc2V0IC0gMV0gKyAxO1xuICAgICAgfVxuICAgICAgdmFyIHkxID0geDEgLSBrMTtcbiAgICAgIHdoaWxlIChcbiAgICAgICAgeDEgPCB0ZXh0MV9sZW5ndGggJiZcbiAgICAgICAgeTEgPCB0ZXh0Ml9sZW5ndGggJiZcbiAgICAgICAgdGV4dDEuY2hhckF0KHgxKSA9PT0gdGV4dDIuY2hhckF0KHkxKVxuICAgICAgKSB7XG4gICAgICAgIHgxKys7XG4gICAgICAgIHkxKys7XG4gICAgICB9XG4gICAgICB2MVtrMV9vZmZzZXRdID0geDE7XG4gICAgICBpZiAoeDEgPiB0ZXh0MV9sZW5ndGgpIHtcbiAgICAgICAgLy8gUmFuIG9mZiB0aGUgcmlnaHQgb2YgdGhlIGdyYXBoLlxuICAgICAgICBrMWVuZCArPSAyO1xuICAgICAgfSBlbHNlIGlmICh5MSA+IHRleHQyX2xlbmd0aCkge1xuICAgICAgICAvLyBSYW4gb2ZmIHRoZSBib3R0b20gb2YgdGhlIGdyYXBoLlxuICAgICAgICBrMXN0YXJ0ICs9IDI7XG4gICAgICB9IGVsc2UgaWYgKGZyb250KSB7XG4gICAgICAgIHZhciBrMl9vZmZzZXQgPSB2X29mZnNldCArIGRlbHRhIC0gazE7XG4gICAgICAgIGlmIChrMl9vZmZzZXQgPj0gMCAmJiBrMl9vZmZzZXQgPCB2X2xlbmd0aCAmJiB2MltrMl9vZmZzZXRdICE9PSAtMSkge1xuICAgICAgICAgIC8vIE1pcnJvciB4MiBvbnRvIHRvcC1sZWZ0IGNvb3JkaW5hdGUgc3lzdGVtLlxuICAgICAgICAgIHZhciB4MiA9IHRleHQxX2xlbmd0aCAtIHYyW2syX29mZnNldF07XG4gICAgICAgICAgaWYgKHgxID49IHgyKSB7XG4gICAgICAgICAgICAvLyBPdmVybGFwIGRldGVjdGVkLlxuICAgICAgICAgICAgcmV0dXJuIGRpZmZfYmlzZWN0U3BsaXRfKHRleHQxLCB0ZXh0MiwgeDEsIHkxKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBXYWxrIHRoZSByZXZlcnNlIHBhdGggb25lIHN0ZXAuXG4gICAgZm9yICh2YXIgazIgPSAtZCArIGsyc3RhcnQ7IGsyIDw9IGQgLSBrMmVuZDsgazIgKz0gMikge1xuICAgICAgdmFyIGsyX29mZnNldCA9IHZfb2Zmc2V0ICsgazI7XG4gICAgICB2YXIgeDI7XG4gICAgICBpZiAoazIgPT09IC1kIHx8IChrMiAhPT0gZCAmJiB2MltrMl9vZmZzZXQgLSAxXSA8IHYyW2syX29mZnNldCArIDFdKSkge1xuICAgICAgICB4MiA9IHYyW2syX29mZnNldCArIDFdO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgeDIgPSB2MltrMl9vZmZzZXQgLSAxXSArIDE7XG4gICAgICB9XG4gICAgICB2YXIgeTIgPSB4MiAtIGsyO1xuICAgICAgd2hpbGUgKFxuICAgICAgICB4MiA8IHRleHQxX2xlbmd0aCAmJlxuICAgICAgICB5MiA8IHRleHQyX2xlbmd0aCAmJlxuICAgICAgICB0ZXh0MS5jaGFyQXQodGV4dDFfbGVuZ3RoIC0geDIgLSAxKSA9PT1cbiAgICAgICAgICB0ZXh0Mi5jaGFyQXQodGV4dDJfbGVuZ3RoIC0geTIgLSAxKVxuICAgICAgKSB7XG4gICAgICAgIHgyKys7XG4gICAgICAgIHkyKys7XG4gICAgICB9XG4gICAgICB2MltrMl9vZmZzZXRdID0geDI7XG4gICAgICBpZiAoeDIgPiB0ZXh0MV9sZW5ndGgpIHtcbiAgICAgICAgLy8gUmFuIG9mZiB0aGUgbGVmdCBvZiB0aGUgZ3JhcGguXG4gICAgICAgIGsyZW5kICs9IDI7XG4gICAgICB9IGVsc2UgaWYgKHkyID4gdGV4dDJfbGVuZ3RoKSB7XG4gICAgICAgIC8vIFJhbiBvZmYgdGhlIHRvcCBvZiB0aGUgZ3JhcGguXG4gICAgICAgIGsyc3RhcnQgKz0gMjtcbiAgICAgIH0gZWxzZSBpZiAoIWZyb250KSB7XG4gICAgICAgIHZhciBrMV9vZmZzZXQgPSB2X29mZnNldCArIGRlbHRhIC0gazI7XG4gICAgICAgIGlmIChrMV9vZmZzZXQgPj0gMCAmJiBrMV9vZmZzZXQgPCB2X2xlbmd0aCAmJiB2MVtrMV9vZmZzZXRdICE9PSAtMSkge1xuICAgICAgICAgIHZhciB4MSA9IHYxW2sxX29mZnNldF07XG4gICAgICAgICAgdmFyIHkxID0gdl9vZmZzZXQgKyB4MSAtIGsxX29mZnNldDtcbiAgICAgICAgICAvLyBNaXJyb3IgeDIgb250byB0b3AtbGVmdCBjb29yZGluYXRlIHN5c3RlbS5cbiAgICAgICAgICB4MiA9IHRleHQxX2xlbmd0aCAtIHgyO1xuICAgICAgICAgIGlmICh4MSA+PSB4Mikge1xuICAgICAgICAgICAgLy8gT3ZlcmxhcCBkZXRlY3RlZC5cbiAgICAgICAgICAgIHJldHVybiBkaWZmX2Jpc2VjdFNwbGl0Xyh0ZXh0MSwgdGV4dDIsIHgxLCB5MSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG4gIC8vIERpZmYgdG9vayB0b28gbG9uZyBhbmQgaGl0IHRoZSBkZWFkbGluZSBvclxuICAvLyBudW1iZXIgb2YgZGlmZnMgZXF1YWxzIG51bWJlciBvZiBjaGFyYWN0ZXJzLCBubyBjb21tb25hbGl0eSBhdCBhbGwuXG4gIHJldHVybiBbXG4gICAgW0RJRkZfREVMRVRFLCB0ZXh0MV0sXG4gICAgW0RJRkZfSU5TRVJULCB0ZXh0Ml0sXG4gIF07XG59XG5cbi8qKlxuICogR2l2ZW4gdGhlIGxvY2F0aW9uIG9mIHRoZSAnbWlkZGxlIHNuYWtlJywgc3BsaXQgdGhlIGRpZmYgaW4gdHdvIHBhcnRzXG4gKiBhbmQgcmVjdXJzZS5cbiAqIEBwYXJhbSB7c3RyaW5nfSB0ZXh0MSBPbGQgc3RyaW5nIHRvIGJlIGRpZmZlZC5cbiAqIEBwYXJhbSB7c3RyaW5nfSB0ZXh0MiBOZXcgc3RyaW5nIHRvIGJlIGRpZmZlZC5cbiAqIEBwYXJhbSB7bnVtYmVyfSB4IEluZGV4IG9mIHNwbGl0IHBvaW50IGluIHRleHQxLlxuICogQHBhcmFtIHtudW1iZXJ9IHkgSW5kZXggb2Ygc3BsaXQgcG9pbnQgaW4gdGV4dDIuXG4gKiBAcmV0dXJuIHtBcnJheX0gQXJyYXkgb2YgZGlmZiB0dXBsZXMuXG4gKi9cbmZ1bmN0aW9uIGRpZmZfYmlzZWN0U3BsaXRfKHRleHQxLCB0ZXh0MiwgeCwgeSkge1xuICB2YXIgdGV4dDFhID0gdGV4dDEuc3Vic3RyaW5nKDAsIHgpO1xuICB2YXIgdGV4dDJhID0gdGV4dDIuc3Vic3RyaW5nKDAsIHkpO1xuICB2YXIgdGV4dDFiID0gdGV4dDEuc3Vic3RyaW5nKHgpO1xuICB2YXIgdGV4dDJiID0gdGV4dDIuc3Vic3RyaW5nKHkpO1xuXG4gIC8vIENvbXB1dGUgYm90aCBkaWZmcyBzZXJpYWxseS5cbiAgdmFyIGRpZmZzID0gZGlmZl9tYWluKHRleHQxYSwgdGV4dDJhKTtcbiAgdmFyIGRpZmZzYiA9IGRpZmZfbWFpbih0ZXh0MWIsIHRleHQyYik7XG5cbiAgcmV0dXJuIGRpZmZzLmNvbmNhdChkaWZmc2IpO1xufVxuXG4vKipcbiAqIERldGVybWluZSB0aGUgY29tbW9uIHByZWZpeCBvZiB0d28gc3RyaW5ncy5cbiAqIEBwYXJhbSB7c3RyaW5nfSB0ZXh0MSBGaXJzdCBzdHJpbmcuXG4gKiBAcGFyYW0ge3N0cmluZ30gdGV4dDIgU2Vjb25kIHN0cmluZy5cbiAqIEByZXR1cm4ge251bWJlcn0gVGhlIG51bWJlciBvZiBjaGFyYWN0ZXJzIGNvbW1vbiB0byB0aGUgc3RhcnQgb2YgZWFjaFxuICogICAgIHN0cmluZy5cbiAqL1xuZnVuY3Rpb24gZGlmZl9jb21tb25QcmVmaXgodGV4dDEsIHRleHQyKSB7XG4gIC8vIFF1aWNrIGNoZWNrIGZvciBjb21tb24gbnVsbCBjYXNlcy5cbiAgaWYgKCF0ZXh0MSB8fCAhdGV4dDIgfHwgdGV4dDEuY2hhckF0KDApICE9PSB0ZXh0Mi5jaGFyQXQoMCkpIHtcbiAgICByZXR1cm4gMDtcbiAgfVxuICAvLyBCaW5hcnkgc2VhcmNoLlxuICAvLyBQZXJmb3JtYW5jZSBhbmFseXNpczogaHR0cDovL25laWwuZnJhc2VyLm5hbWUvbmV3cy8yMDA3LzEwLzA5L1xuICB2YXIgcG9pbnRlcm1pbiA9IDA7XG4gIHZhciBwb2ludGVybWF4ID0gTWF0aC5taW4odGV4dDEubGVuZ3RoLCB0ZXh0Mi5sZW5ndGgpO1xuICB2YXIgcG9pbnRlcm1pZCA9IHBvaW50ZXJtYXg7XG4gIHZhciBwb2ludGVyc3RhcnQgPSAwO1xuICB3aGlsZSAocG9pbnRlcm1pbiA8IHBvaW50ZXJtaWQpIHtcbiAgICBpZiAoXG4gICAgICB0ZXh0MS5zdWJzdHJpbmcocG9pbnRlcnN0YXJ0LCBwb2ludGVybWlkKSA9PVxuICAgICAgdGV4dDIuc3Vic3RyaW5nKHBvaW50ZXJzdGFydCwgcG9pbnRlcm1pZClcbiAgICApIHtcbiAgICAgIHBvaW50ZXJtaW4gPSBwb2ludGVybWlkO1xuICAgICAgcG9pbnRlcnN0YXJ0ID0gcG9pbnRlcm1pbjtcbiAgICB9IGVsc2Uge1xuICAgICAgcG9pbnRlcm1heCA9IHBvaW50ZXJtaWQ7XG4gICAgfVxuICAgIHBvaW50ZXJtaWQgPSBNYXRoLmZsb29yKChwb2ludGVybWF4IC0gcG9pbnRlcm1pbikgLyAyICsgcG9pbnRlcm1pbik7XG4gIH1cblxuICBpZiAoaXNfc3Vycm9nYXRlX3BhaXJfc3RhcnQodGV4dDEuY2hhckNvZGVBdChwb2ludGVybWlkIC0gMSkpKSB7XG4gICAgcG9pbnRlcm1pZC0tO1xuICB9XG5cbiAgcmV0dXJuIHBvaW50ZXJtaWQ7XG59XG5cbi8qKlxuICogRGV0ZXJtaW5lIGlmIHRoZSBzdWZmaXggb2Ygb25lIHN0cmluZyBpcyB0aGUgcHJlZml4IG9mIGFub3RoZXIuXG4gKiBAcGFyYW0ge3N0cmluZ30gdGV4dDEgRmlyc3Qgc3RyaW5nLlxuICogQHBhcmFtIHtzdHJpbmd9IHRleHQyIFNlY29uZCBzdHJpbmcuXG4gKiBAcmV0dXJuIHtudW1iZXJ9IFRoZSBudW1iZXIgb2YgY2hhcmFjdGVycyBjb21tb24gdG8gdGhlIGVuZCBvZiB0aGUgZmlyc3RcbiAqICAgICBzdHJpbmcgYW5kIHRoZSBzdGFydCBvZiB0aGUgc2Vjb25kIHN0cmluZy5cbiAqIEBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIGRpZmZfY29tbW9uT3ZlcmxhcF8odGV4dDEsIHRleHQyKSB7XG4gIC8vIENhY2hlIHRoZSB0ZXh0IGxlbmd0aHMgdG8gcHJldmVudCBtdWx0aXBsZSBjYWxscy5cbiAgdmFyIHRleHQxX2xlbmd0aCA9IHRleHQxLmxlbmd0aDtcbiAgdmFyIHRleHQyX2xlbmd0aCA9IHRleHQyLmxlbmd0aDtcbiAgLy8gRWxpbWluYXRlIHRoZSBudWxsIGNhc2UuXG4gIGlmICh0ZXh0MV9sZW5ndGggPT0gMCB8fCB0ZXh0Ml9sZW5ndGggPT0gMCkge1xuICAgIHJldHVybiAwO1xuICB9XG4gIC8vIFRydW5jYXRlIHRoZSBsb25nZXIgc3RyaW5nLlxuICBpZiAodGV4dDFfbGVuZ3RoID4gdGV4dDJfbGVuZ3RoKSB7XG4gICAgdGV4dDEgPSB0ZXh0MS5zdWJzdHJpbmcodGV4dDFfbGVuZ3RoIC0gdGV4dDJfbGVuZ3RoKTtcbiAgfSBlbHNlIGlmICh0ZXh0MV9sZW5ndGggPCB0ZXh0Ml9sZW5ndGgpIHtcbiAgICB0ZXh0MiA9IHRleHQyLnN1YnN0cmluZygwLCB0ZXh0MV9sZW5ndGgpO1xuICB9XG4gIHZhciB0ZXh0X2xlbmd0aCA9IE1hdGgubWluKHRleHQxX2xlbmd0aCwgdGV4dDJfbGVuZ3RoKTtcbiAgLy8gUXVpY2sgY2hlY2sgZm9yIHRoZSB3b3JzdCBjYXNlLlxuICBpZiAodGV4dDEgPT0gdGV4dDIpIHtcbiAgICByZXR1cm4gdGV4dF9sZW5ndGg7XG4gIH1cblxuICAvLyBTdGFydCBieSBsb29raW5nIGZvciBhIHNpbmdsZSBjaGFyYWN0ZXIgbWF0Y2hcbiAgLy8gYW5kIGluY3JlYXNlIGxlbmd0aCB1bnRpbCBubyBtYXRjaCBpcyBmb3VuZC5cbiAgLy8gUGVyZm9ybWFuY2UgYW5hbHlzaXM6IGh0dHA6Ly9uZWlsLmZyYXNlci5uYW1lL25ld3MvMjAxMC8xMS8wNC9cbiAgdmFyIGJlc3QgPSAwO1xuICB2YXIgbGVuZ3RoID0gMTtcbiAgd2hpbGUgKHRydWUpIHtcbiAgICB2YXIgcGF0dGVybiA9IHRleHQxLnN1YnN0cmluZyh0ZXh0X2xlbmd0aCAtIGxlbmd0aCk7XG4gICAgdmFyIGZvdW5kID0gdGV4dDIuaW5kZXhPZihwYXR0ZXJuKTtcbiAgICBpZiAoZm91bmQgPT0gLTEpIHtcbiAgICAgIHJldHVybiBiZXN0O1xuICAgIH1cbiAgICBsZW5ndGggKz0gZm91bmQ7XG4gICAgaWYgKFxuICAgICAgZm91bmQgPT0gMCB8fFxuICAgICAgdGV4dDEuc3Vic3RyaW5nKHRleHRfbGVuZ3RoIC0gbGVuZ3RoKSA9PSB0ZXh0Mi5zdWJzdHJpbmcoMCwgbGVuZ3RoKVxuICAgICkge1xuICAgICAgYmVzdCA9IGxlbmd0aDtcbiAgICAgIGxlbmd0aCsrO1xuICAgIH1cbiAgfVxufVxuXG4vKipcbiAqIERldGVybWluZSB0aGUgY29tbW9uIHN1ZmZpeCBvZiB0d28gc3RyaW5ncy5cbiAqIEBwYXJhbSB7c3RyaW5nfSB0ZXh0MSBGaXJzdCBzdHJpbmcuXG4gKiBAcGFyYW0ge3N0cmluZ30gdGV4dDIgU2Vjb25kIHN0cmluZy5cbiAqIEByZXR1cm4ge251bWJlcn0gVGhlIG51bWJlciBvZiBjaGFyYWN0ZXJzIGNvbW1vbiB0byB0aGUgZW5kIG9mIGVhY2ggc3RyaW5nLlxuICovXG5mdW5jdGlvbiBkaWZmX2NvbW1vblN1ZmZpeCh0ZXh0MSwgdGV4dDIpIHtcbiAgLy8gUXVpY2sgY2hlY2sgZm9yIGNvbW1vbiBudWxsIGNhc2VzLlxuICBpZiAoIXRleHQxIHx8ICF0ZXh0MiB8fCB0ZXh0MS5zbGljZSgtMSkgIT09IHRleHQyLnNsaWNlKC0xKSkge1xuICAgIHJldHVybiAwO1xuICB9XG4gIC8vIEJpbmFyeSBzZWFyY2guXG4gIC8vIFBlcmZvcm1hbmNlIGFuYWx5c2lzOiBodHRwOi8vbmVpbC5mcmFzZXIubmFtZS9uZXdzLzIwMDcvMTAvMDkvXG4gIHZhciBwb2ludGVybWluID0gMDtcbiAgdmFyIHBvaW50ZXJtYXggPSBNYXRoLm1pbih0ZXh0MS5sZW5ndGgsIHRleHQyLmxlbmd0aCk7XG4gIHZhciBwb2ludGVybWlkID0gcG9pbnRlcm1heDtcbiAgdmFyIHBvaW50ZXJlbmQgPSAwO1xuICB3aGlsZSAocG9pbnRlcm1pbiA8IHBvaW50ZXJtaWQpIHtcbiAgICBpZiAoXG4gICAgICB0ZXh0MS5zdWJzdHJpbmcodGV4dDEubGVuZ3RoIC0gcG9pbnRlcm1pZCwgdGV4dDEubGVuZ3RoIC0gcG9pbnRlcmVuZCkgPT1cbiAgICAgIHRleHQyLnN1YnN0cmluZyh0ZXh0Mi5sZW5ndGggLSBwb2ludGVybWlkLCB0ZXh0Mi5sZW5ndGggLSBwb2ludGVyZW5kKVxuICAgICkge1xuICAgICAgcG9pbnRlcm1pbiA9IHBvaW50ZXJtaWQ7XG4gICAgICBwb2ludGVyZW5kID0gcG9pbnRlcm1pbjtcbiAgICB9IGVsc2Uge1xuICAgICAgcG9pbnRlcm1heCA9IHBvaW50ZXJtaWQ7XG4gICAgfVxuICAgIHBvaW50ZXJtaWQgPSBNYXRoLmZsb29yKChwb2ludGVybWF4IC0gcG9pbnRlcm1pbikgLyAyICsgcG9pbnRlcm1pbik7XG4gIH1cblxuICBpZiAoaXNfc3Vycm9nYXRlX3BhaXJfZW5kKHRleHQxLmNoYXJDb2RlQXQodGV4dDEubGVuZ3RoIC0gcG9pbnRlcm1pZCkpKSB7XG4gICAgcG9pbnRlcm1pZC0tO1xuICB9XG5cbiAgcmV0dXJuIHBvaW50ZXJtaWQ7XG59XG5cbi8qKlxuICogRG8gdGhlIHR3byB0ZXh0cyBzaGFyZSBhIHN1YnN0cmluZyB3aGljaCBpcyBhdCBsZWFzdCBoYWxmIHRoZSBsZW5ndGggb2YgdGhlXG4gKiBsb25nZXIgdGV4dD9cbiAqIFRoaXMgc3BlZWR1cCBjYW4gcHJvZHVjZSBub24tbWluaW1hbCBkaWZmcy5cbiAqIEBwYXJhbSB7c3RyaW5nfSB0ZXh0MSBGaXJzdCBzdHJpbmcuXG4gKiBAcGFyYW0ge3N0cmluZ30gdGV4dDIgU2Vjb25kIHN0cmluZy5cbiAqIEByZXR1cm4ge0FycmF5LjxzdHJpbmc+fSBGaXZlIGVsZW1lbnQgQXJyYXksIGNvbnRhaW5pbmcgdGhlIHByZWZpeCBvZlxuICogICAgIHRleHQxLCB0aGUgc3VmZml4IG9mIHRleHQxLCB0aGUgcHJlZml4IG9mIHRleHQyLCB0aGUgc3VmZml4IG9mXG4gKiAgICAgdGV4dDIgYW5kIHRoZSBjb21tb24gbWlkZGxlLiAgT3IgbnVsbCBpZiB0aGVyZSB3YXMgbm8gbWF0Y2guXG4gKi9cbmZ1bmN0aW9uIGRpZmZfaGFsZk1hdGNoXyh0ZXh0MSwgdGV4dDIpIHtcbiAgdmFyIGxvbmd0ZXh0ID0gdGV4dDEubGVuZ3RoID4gdGV4dDIubGVuZ3RoID8gdGV4dDEgOiB0ZXh0MjtcbiAgdmFyIHNob3J0dGV4dCA9IHRleHQxLmxlbmd0aCA+IHRleHQyLmxlbmd0aCA/IHRleHQyIDogdGV4dDE7XG4gIGlmIChsb25ndGV4dC5sZW5ndGggPCA0IHx8IHNob3J0dGV4dC5sZW5ndGggKiAyIDwgbG9uZ3RleHQubGVuZ3RoKSB7XG4gICAgcmV0dXJuIG51bGw7IC8vIFBvaW50bGVzcy5cbiAgfVxuXG4gIC8qKlxuICAgKiBEb2VzIGEgc3Vic3RyaW5nIG9mIHNob3J0dGV4dCBleGlzdCB3aXRoaW4gbG9uZ3RleHQgc3VjaCB0aGF0IHRoZSBzdWJzdHJpbmdcbiAgICogaXMgYXQgbGVhc3QgaGFsZiB0aGUgbGVuZ3RoIG9mIGxvbmd0ZXh0P1xuICAgKiBDbG9zdXJlLCBidXQgZG9lcyBub3QgcmVmZXJlbmNlIGFueSBleHRlcm5hbCB2YXJpYWJsZXMuXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBsb25ndGV4dCBMb25nZXIgc3RyaW5nLlxuICAgKiBAcGFyYW0ge3N0cmluZ30gc2hvcnR0ZXh0IFNob3J0ZXIgc3RyaW5nLlxuICAgKiBAcGFyYW0ge251bWJlcn0gaSBTdGFydCBpbmRleCBvZiBxdWFydGVyIGxlbmd0aCBzdWJzdHJpbmcgd2l0aGluIGxvbmd0ZXh0LlxuICAgKiBAcmV0dXJuIHtBcnJheS48c3RyaW5nPn0gRml2ZSBlbGVtZW50IEFycmF5LCBjb250YWluaW5nIHRoZSBwcmVmaXggb2ZcbiAgICogICAgIGxvbmd0ZXh0LCB0aGUgc3VmZml4IG9mIGxvbmd0ZXh0LCB0aGUgcHJlZml4IG9mIHNob3J0dGV4dCwgdGhlIHN1ZmZpeFxuICAgKiAgICAgb2Ygc2hvcnR0ZXh0IGFuZCB0aGUgY29tbW9uIG1pZGRsZS4gIE9yIG51bGwgaWYgdGhlcmUgd2FzIG5vIG1hdGNoLlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgZnVuY3Rpb24gZGlmZl9oYWxmTWF0Y2hJXyhsb25ndGV4dCwgc2hvcnR0ZXh0LCBpKSB7XG4gICAgLy8gU3RhcnQgd2l0aCBhIDEvNCBsZW5ndGggc3Vic3RyaW5nIGF0IHBvc2l0aW9uIGkgYXMgYSBzZWVkLlxuICAgIHZhciBzZWVkID0gbG9uZ3RleHQuc3Vic3RyaW5nKGksIGkgKyBNYXRoLmZsb29yKGxvbmd0ZXh0Lmxlbmd0aCAvIDQpKTtcbiAgICB2YXIgaiA9IC0xO1xuICAgIHZhciBiZXN0X2NvbW1vbiA9IFwiXCI7XG4gICAgdmFyIGJlc3RfbG9uZ3RleHRfYSwgYmVzdF9sb25ndGV4dF9iLCBiZXN0X3Nob3J0dGV4dF9hLCBiZXN0X3Nob3J0dGV4dF9iO1xuICAgIHdoaWxlICgoaiA9IHNob3J0dGV4dC5pbmRleE9mKHNlZWQsIGogKyAxKSkgIT09IC0xKSB7XG4gICAgICB2YXIgcHJlZml4TGVuZ3RoID0gZGlmZl9jb21tb25QcmVmaXgoXG4gICAgICAgIGxvbmd0ZXh0LnN1YnN0cmluZyhpKSxcbiAgICAgICAgc2hvcnR0ZXh0LnN1YnN0cmluZyhqKVxuICAgICAgKTtcbiAgICAgIHZhciBzdWZmaXhMZW5ndGggPSBkaWZmX2NvbW1vblN1ZmZpeChcbiAgICAgICAgbG9uZ3RleHQuc3Vic3RyaW5nKDAsIGkpLFxuICAgICAgICBzaG9ydHRleHQuc3Vic3RyaW5nKDAsIGopXG4gICAgICApO1xuICAgICAgaWYgKGJlc3RfY29tbW9uLmxlbmd0aCA8IHN1ZmZpeExlbmd0aCArIHByZWZpeExlbmd0aCkge1xuICAgICAgICBiZXN0X2NvbW1vbiA9XG4gICAgICAgICAgc2hvcnR0ZXh0LnN1YnN0cmluZyhqIC0gc3VmZml4TGVuZ3RoLCBqKSArXG4gICAgICAgICAgc2hvcnR0ZXh0LnN1YnN0cmluZyhqLCBqICsgcHJlZml4TGVuZ3RoKTtcbiAgICAgICAgYmVzdF9sb25ndGV4dF9hID0gbG9uZ3RleHQuc3Vic3RyaW5nKDAsIGkgLSBzdWZmaXhMZW5ndGgpO1xuICAgICAgICBiZXN0X2xvbmd0ZXh0X2IgPSBsb25ndGV4dC5zdWJzdHJpbmcoaSArIHByZWZpeExlbmd0aCk7XG4gICAgICAgIGJlc3Rfc2hvcnR0ZXh0X2EgPSBzaG9ydHRleHQuc3Vic3RyaW5nKDAsIGogLSBzdWZmaXhMZW5ndGgpO1xuICAgICAgICBiZXN0X3Nob3J0dGV4dF9iID0gc2hvcnR0ZXh0LnN1YnN0cmluZyhqICsgcHJlZml4TGVuZ3RoKTtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKGJlc3RfY29tbW9uLmxlbmd0aCAqIDIgPj0gbG9uZ3RleHQubGVuZ3RoKSB7XG4gICAgICByZXR1cm4gW1xuICAgICAgICBiZXN0X2xvbmd0ZXh0X2EsXG4gICAgICAgIGJlc3RfbG9uZ3RleHRfYixcbiAgICAgICAgYmVzdF9zaG9ydHRleHRfYSxcbiAgICAgICAgYmVzdF9zaG9ydHRleHRfYixcbiAgICAgICAgYmVzdF9jb21tb24sXG4gICAgICBdO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gIH1cblxuICAvLyBGaXJzdCBjaGVjayBpZiB0aGUgc2Vjb25kIHF1YXJ0ZXIgaXMgdGhlIHNlZWQgZm9yIGEgaGFsZi1tYXRjaC5cbiAgdmFyIGhtMSA9IGRpZmZfaGFsZk1hdGNoSV8oXG4gICAgbG9uZ3RleHQsXG4gICAgc2hvcnR0ZXh0LFxuICAgIE1hdGguY2VpbChsb25ndGV4dC5sZW5ndGggLyA0KVxuICApO1xuICAvLyBDaGVjayBhZ2FpbiBiYXNlZCBvbiB0aGUgdGhpcmQgcXVhcnRlci5cbiAgdmFyIGhtMiA9IGRpZmZfaGFsZk1hdGNoSV8oXG4gICAgbG9uZ3RleHQsXG4gICAgc2hvcnR0ZXh0LFxuICAgIE1hdGguY2VpbChsb25ndGV4dC5sZW5ndGggLyAyKVxuICApO1xuICB2YXIgaG07XG4gIGlmICghaG0xICYmICFobTIpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfSBlbHNlIGlmICghaG0yKSB7XG4gICAgaG0gPSBobTE7XG4gIH0gZWxzZSBpZiAoIWhtMSkge1xuICAgIGhtID0gaG0yO1xuICB9IGVsc2Uge1xuICAgIC8vIEJvdGggbWF0Y2hlZC4gIFNlbGVjdCB0aGUgbG9uZ2VzdC5cbiAgICBobSA9IGhtMVs0XS5sZW5ndGggPiBobTJbNF0ubGVuZ3RoID8gaG0xIDogaG0yO1xuICB9XG5cbiAgLy8gQSBoYWxmLW1hdGNoIHdhcyBmb3VuZCwgc29ydCBvdXQgdGhlIHJldHVybiBkYXRhLlxuICB2YXIgdGV4dDFfYSwgdGV4dDFfYiwgdGV4dDJfYSwgdGV4dDJfYjtcbiAgaWYgKHRleHQxLmxlbmd0aCA+IHRleHQyLmxlbmd0aCkge1xuICAgIHRleHQxX2EgPSBobVswXTtcbiAgICB0ZXh0MV9iID0gaG1bMV07XG4gICAgdGV4dDJfYSA9IGhtWzJdO1xuICAgIHRleHQyX2IgPSBobVszXTtcbiAgfSBlbHNlIHtcbiAgICB0ZXh0Ml9hID0gaG1bMF07XG4gICAgdGV4dDJfYiA9IGhtWzFdO1xuICAgIHRleHQxX2EgPSBobVsyXTtcbiAgICB0ZXh0MV9iID0gaG1bM107XG4gIH1cbiAgdmFyIG1pZF9jb21tb24gPSBobVs0XTtcbiAgcmV0dXJuIFt0ZXh0MV9hLCB0ZXh0MV9iLCB0ZXh0Ml9hLCB0ZXh0Ml9iLCBtaWRfY29tbW9uXTtcbn1cblxuLyoqXG4gKiBSZWR1Y2UgdGhlIG51bWJlciBvZiBlZGl0cyBieSBlbGltaW5hdGluZyBzZW1hbnRpY2FsbHkgdHJpdmlhbCBlcXVhbGl0aWVzLlxuICogQHBhcmFtIHshQXJyYXkuPCFkaWZmX21hdGNoX3BhdGNoLkRpZmY+fSBkaWZmcyBBcnJheSBvZiBkaWZmIHR1cGxlcy5cbiAqL1xuZnVuY3Rpb24gZGlmZl9jbGVhbnVwU2VtYW50aWMoZGlmZnMpIHtcbiAgdmFyIGNoYW5nZXMgPSBmYWxzZTtcbiAgdmFyIGVxdWFsaXRpZXMgPSBbXTsgLy8gU3RhY2sgb2YgaW5kaWNlcyB3aGVyZSBlcXVhbGl0aWVzIGFyZSBmb3VuZC5cbiAgdmFyIGVxdWFsaXRpZXNMZW5ndGggPSAwOyAvLyBLZWVwaW5nIG91ciBvd24gbGVuZ3RoIHZhciBpcyBmYXN0ZXIgaW4gSlMuXG4gIC8qKiBAdHlwZSB7P3N0cmluZ30gKi9cbiAgdmFyIGxhc3RlcXVhbGl0eSA9IG51bGw7XG4gIC8vIEFsd2F5cyBlcXVhbCB0byBkaWZmc1tlcXVhbGl0aWVzW2VxdWFsaXRpZXNMZW5ndGggLSAxXV1bMV1cbiAgdmFyIHBvaW50ZXIgPSAwOyAvLyBJbmRleCBvZiBjdXJyZW50IHBvc2l0aW9uLlxuICAvLyBOdW1iZXIgb2YgY2hhcmFjdGVycyB0aGF0IGNoYW5nZWQgcHJpb3IgdG8gdGhlIGVxdWFsaXR5LlxuICB2YXIgbGVuZ3RoX2luc2VydGlvbnMxID0gMDtcbiAgdmFyIGxlbmd0aF9kZWxldGlvbnMxID0gMDtcbiAgLy8gTnVtYmVyIG9mIGNoYXJhY3RlcnMgdGhhdCBjaGFuZ2VkIGFmdGVyIHRoZSBlcXVhbGl0eS5cbiAgdmFyIGxlbmd0aF9pbnNlcnRpb25zMiA9IDA7XG4gIHZhciBsZW5ndGhfZGVsZXRpb25zMiA9IDA7XG4gIHdoaWxlIChwb2ludGVyIDwgZGlmZnMubGVuZ3RoKSB7XG4gICAgaWYgKGRpZmZzW3BvaW50ZXJdWzBdID09IERJRkZfRVFVQUwpIHtcbiAgICAgIC8vIEVxdWFsaXR5IGZvdW5kLlxuICAgICAgZXF1YWxpdGllc1tlcXVhbGl0aWVzTGVuZ3RoKytdID0gcG9pbnRlcjtcbiAgICAgIGxlbmd0aF9pbnNlcnRpb25zMSA9IGxlbmd0aF9pbnNlcnRpb25zMjtcbiAgICAgIGxlbmd0aF9kZWxldGlvbnMxID0gbGVuZ3RoX2RlbGV0aW9uczI7XG4gICAgICBsZW5ndGhfaW5zZXJ0aW9uczIgPSAwO1xuICAgICAgbGVuZ3RoX2RlbGV0aW9uczIgPSAwO1xuICAgICAgbGFzdGVxdWFsaXR5ID0gZGlmZnNbcG9pbnRlcl1bMV07XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIEFuIGluc2VydGlvbiBvciBkZWxldGlvbi5cbiAgICAgIGlmIChkaWZmc1twb2ludGVyXVswXSA9PSBESUZGX0lOU0VSVCkge1xuICAgICAgICBsZW5ndGhfaW5zZXJ0aW9uczIgKz0gZGlmZnNbcG9pbnRlcl1bMV0ubGVuZ3RoO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbGVuZ3RoX2RlbGV0aW9uczIgKz0gZGlmZnNbcG9pbnRlcl1bMV0ubGVuZ3RoO1xuICAgICAgfVxuICAgICAgLy8gRWxpbWluYXRlIGFuIGVxdWFsaXR5IHRoYXQgaXMgc21hbGxlciBvciBlcXVhbCB0byB0aGUgZWRpdHMgb24gYm90aFxuICAgICAgLy8gc2lkZXMgb2YgaXQuXG4gICAgICBpZiAoXG4gICAgICAgIGxhc3RlcXVhbGl0eSAmJlxuICAgICAgICBsYXN0ZXF1YWxpdHkubGVuZ3RoIDw9XG4gICAgICAgICAgTWF0aC5tYXgobGVuZ3RoX2luc2VydGlvbnMxLCBsZW5ndGhfZGVsZXRpb25zMSkgJiZcbiAgICAgICAgbGFzdGVxdWFsaXR5Lmxlbmd0aCA8PSBNYXRoLm1heChsZW5ndGhfaW5zZXJ0aW9uczIsIGxlbmd0aF9kZWxldGlvbnMyKVxuICAgICAgKSB7XG4gICAgICAgIC8vIER1cGxpY2F0ZSByZWNvcmQuXG4gICAgICAgIGRpZmZzLnNwbGljZShlcXVhbGl0aWVzW2VxdWFsaXRpZXNMZW5ndGggLSAxXSwgMCwgW1xuICAgICAgICAgIERJRkZfREVMRVRFLFxuICAgICAgICAgIGxhc3RlcXVhbGl0eSxcbiAgICAgICAgXSk7XG4gICAgICAgIC8vIENoYW5nZSBzZWNvbmQgY29weSB0byBpbnNlcnQuXG4gICAgICAgIGRpZmZzW2VxdWFsaXRpZXNbZXF1YWxpdGllc0xlbmd0aCAtIDFdICsgMV1bMF0gPSBESUZGX0lOU0VSVDtcbiAgICAgICAgLy8gVGhyb3cgYXdheSB0aGUgZXF1YWxpdHkgd2UganVzdCBkZWxldGVkLlxuICAgICAgICBlcXVhbGl0aWVzTGVuZ3RoLS07XG4gICAgICAgIC8vIFRocm93IGF3YXkgdGhlIHByZXZpb3VzIGVxdWFsaXR5IChpdCBuZWVkcyB0byBiZSByZWV2YWx1YXRlZCkuXG4gICAgICAgIGVxdWFsaXRpZXNMZW5ndGgtLTtcbiAgICAgICAgcG9pbnRlciA9IGVxdWFsaXRpZXNMZW5ndGggPiAwID8gZXF1YWxpdGllc1tlcXVhbGl0aWVzTGVuZ3RoIC0gMV0gOiAtMTtcbiAgICAgICAgbGVuZ3RoX2luc2VydGlvbnMxID0gMDsgLy8gUmVzZXQgdGhlIGNvdW50ZXJzLlxuICAgICAgICBsZW5ndGhfZGVsZXRpb25zMSA9IDA7XG4gICAgICAgIGxlbmd0aF9pbnNlcnRpb25zMiA9IDA7XG4gICAgICAgIGxlbmd0aF9kZWxldGlvbnMyID0gMDtcbiAgICAgICAgbGFzdGVxdWFsaXR5ID0gbnVsbDtcbiAgICAgICAgY2hhbmdlcyA9IHRydWU7XG4gICAgICB9XG4gICAgfVxuICAgIHBvaW50ZXIrKztcbiAgfVxuXG4gIC8vIE5vcm1hbGl6ZSB0aGUgZGlmZi5cbiAgaWYgKGNoYW5nZXMpIHtcbiAgICBkaWZmX2NsZWFudXBNZXJnZShkaWZmcyk7XG4gIH1cbiAgZGlmZl9jbGVhbnVwU2VtYW50aWNMb3NzbGVzcyhkaWZmcyk7XG5cbiAgLy8gRmluZCBhbnkgb3ZlcmxhcHMgYmV0d2VlbiBkZWxldGlvbnMgYW5kIGluc2VydGlvbnMuXG4gIC8vIGUuZzogPGRlbD5hYmN4eHg8L2RlbD48aW5zPnh4eGRlZjwvaW5zPlxuICAvLyAgIC0+IDxkZWw+YWJjPC9kZWw+eHh4PGlucz5kZWY8L2lucz5cbiAgLy8gZS5nOiA8ZGVsPnh4eGFiYzwvZGVsPjxpbnM+ZGVmeHh4PC9pbnM+XG4gIC8vICAgLT4gPGlucz5kZWY8L2lucz54eHg8ZGVsPmFiYzwvZGVsPlxuICAvLyBPbmx5IGV4dHJhY3QgYW4gb3ZlcmxhcCBpZiBpdCBpcyBhcyBiaWcgYXMgdGhlIGVkaXQgYWhlYWQgb3IgYmVoaW5kIGl0LlxuICBwb2ludGVyID0gMTtcbiAgd2hpbGUgKHBvaW50ZXIgPCBkaWZmcy5sZW5ndGgpIHtcbiAgICBpZiAoXG4gICAgICBkaWZmc1twb2ludGVyIC0gMV1bMF0gPT0gRElGRl9ERUxFVEUgJiZcbiAgICAgIGRpZmZzW3BvaW50ZXJdWzBdID09IERJRkZfSU5TRVJUXG4gICAgKSB7XG4gICAgICB2YXIgZGVsZXRpb24gPSBkaWZmc1twb2ludGVyIC0gMV1bMV07XG4gICAgICB2YXIgaW5zZXJ0aW9uID0gZGlmZnNbcG9pbnRlcl1bMV07XG4gICAgICB2YXIgb3ZlcmxhcF9sZW5ndGgxID0gZGlmZl9jb21tb25PdmVybGFwXyhkZWxldGlvbiwgaW5zZXJ0aW9uKTtcbiAgICAgIHZhciBvdmVybGFwX2xlbmd0aDIgPSBkaWZmX2NvbW1vbk92ZXJsYXBfKGluc2VydGlvbiwgZGVsZXRpb24pO1xuICAgICAgaWYgKG92ZXJsYXBfbGVuZ3RoMSA+PSBvdmVybGFwX2xlbmd0aDIpIHtcbiAgICAgICAgaWYgKFxuICAgICAgICAgIG92ZXJsYXBfbGVuZ3RoMSA+PSBkZWxldGlvbi5sZW5ndGggLyAyIHx8XG4gICAgICAgICAgb3ZlcmxhcF9sZW5ndGgxID49IGluc2VydGlvbi5sZW5ndGggLyAyXG4gICAgICAgICkge1xuICAgICAgICAgIC8vIE92ZXJsYXAgZm91bmQuICBJbnNlcnQgYW4gZXF1YWxpdHkgYW5kIHRyaW0gdGhlIHN1cnJvdW5kaW5nIGVkaXRzLlxuICAgICAgICAgIGRpZmZzLnNwbGljZShwb2ludGVyLCAwLCBbXG4gICAgICAgICAgICBESUZGX0VRVUFMLFxuICAgICAgICAgICAgaW5zZXJ0aW9uLnN1YnN0cmluZygwLCBvdmVybGFwX2xlbmd0aDEpLFxuICAgICAgICAgIF0pO1xuICAgICAgICAgIGRpZmZzW3BvaW50ZXIgLSAxXVsxXSA9IGRlbGV0aW9uLnN1YnN0cmluZyhcbiAgICAgICAgICAgIDAsXG4gICAgICAgICAgICBkZWxldGlvbi5sZW5ndGggLSBvdmVybGFwX2xlbmd0aDFcbiAgICAgICAgICApO1xuICAgICAgICAgIGRpZmZzW3BvaW50ZXIgKyAxXVsxXSA9IGluc2VydGlvbi5zdWJzdHJpbmcob3ZlcmxhcF9sZW5ndGgxKTtcbiAgICAgICAgICBwb2ludGVyKys7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlmIChcbiAgICAgICAgICBvdmVybGFwX2xlbmd0aDIgPj0gZGVsZXRpb24ubGVuZ3RoIC8gMiB8fFxuICAgICAgICAgIG92ZXJsYXBfbGVuZ3RoMiA+PSBpbnNlcnRpb24ubGVuZ3RoIC8gMlxuICAgICAgICApIHtcbiAgICAgICAgICAvLyBSZXZlcnNlIG92ZXJsYXAgZm91bmQuXG4gICAgICAgICAgLy8gSW5zZXJ0IGFuIGVxdWFsaXR5IGFuZCBzd2FwIGFuZCB0cmltIHRoZSBzdXJyb3VuZGluZyBlZGl0cy5cbiAgICAgICAgICBkaWZmcy5zcGxpY2UocG9pbnRlciwgMCwgW1xuICAgICAgICAgICAgRElGRl9FUVVBTCxcbiAgICAgICAgICAgIGRlbGV0aW9uLnN1YnN0cmluZygwLCBvdmVybGFwX2xlbmd0aDIpLFxuICAgICAgICAgIF0pO1xuICAgICAgICAgIGRpZmZzW3BvaW50ZXIgLSAxXVswXSA9IERJRkZfSU5TRVJUO1xuICAgICAgICAgIGRpZmZzW3BvaW50ZXIgLSAxXVsxXSA9IGluc2VydGlvbi5zdWJzdHJpbmcoXG4gICAgICAgICAgICAwLFxuICAgICAgICAgICAgaW5zZXJ0aW9uLmxlbmd0aCAtIG92ZXJsYXBfbGVuZ3RoMlxuICAgICAgICAgICk7XG4gICAgICAgICAgZGlmZnNbcG9pbnRlciArIDFdWzBdID0gRElGRl9ERUxFVEU7XG4gICAgICAgICAgZGlmZnNbcG9pbnRlciArIDFdWzFdID0gZGVsZXRpb24uc3Vic3RyaW5nKG92ZXJsYXBfbGVuZ3RoMik7XG4gICAgICAgICAgcG9pbnRlcisrO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBwb2ludGVyKys7XG4gICAgfVxuICAgIHBvaW50ZXIrKztcbiAgfVxufVxuXG52YXIgbm9uQWxwaGFOdW1lcmljUmVnZXhfID0gL1teYS16QS1aMC05XS87XG52YXIgd2hpdGVzcGFjZVJlZ2V4XyA9IC9cXHMvO1xudmFyIGxpbmVicmVha1JlZ2V4XyA9IC9bXFxyXFxuXS87XG52YXIgYmxhbmtsaW5lRW5kUmVnZXhfID0gL1xcblxccj9cXG4kLztcbnZhciBibGFua2xpbmVTdGFydFJlZ2V4XyA9IC9eXFxyP1xcblxccj9cXG4vO1xuXG4vKipcbiAqIExvb2sgZm9yIHNpbmdsZSBlZGl0cyBzdXJyb3VuZGVkIG9uIGJvdGggc2lkZXMgYnkgZXF1YWxpdGllc1xuICogd2hpY2ggY2FuIGJlIHNoaWZ0ZWQgc2lkZXdheXMgdG8gYWxpZ24gdGhlIGVkaXQgdG8gYSB3b3JkIGJvdW5kYXJ5LlxuICogZS5nOiBUaGUgYzxpbnM+YXQgYzwvaW5zPmFtZS4gLT4gVGhlIDxpbnM+Y2F0IDwvaW5zPmNhbWUuXG4gKiBAcGFyYW0geyFBcnJheS48IWRpZmZfbWF0Y2hfcGF0Y2guRGlmZj59IGRpZmZzIEFycmF5IG9mIGRpZmYgdHVwbGVzLlxuICovXG5mdW5jdGlvbiBkaWZmX2NsZWFudXBTZW1hbnRpY0xvc3NsZXNzKGRpZmZzKSB7XG4gIC8qKlxuICAgKiBHaXZlbiB0d28gc3RyaW5ncywgY29tcHV0ZSBhIHNjb3JlIHJlcHJlc2VudGluZyB3aGV0aGVyIHRoZSBpbnRlcm5hbFxuICAgKiBib3VuZGFyeSBmYWxscyBvbiBsb2dpY2FsIGJvdW5kYXJpZXMuXG4gICAqIFNjb3JlcyByYW5nZSBmcm9tIDYgKGJlc3QpIHRvIDAgKHdvcnN0KS5cbiAgICogQ2xvc3VyZSwgYnV0IGRvZXMgbm90IHJlZmVyZW5jZSBhbnkgZXh0ZXJuYWwgdmFyaWFibGVzLlxuICAgKiBAcGFyYW0ge3N0cmluZ30gb25lIEZpcnN0IHN0cmluZy5cbiAgICogQHBhcmFtIHtzdHJpbmd9IHR3byBTZWNvbmQgc3RyaW5nLlxuICAgKiBAcmV0dXJuIHtudW1iZXJ9IFRoZSBzY29yZS5cbiAgICogQHByaXZhdGVcbiAgICovXG4gIGZ1bmN0aW9uIGRpZmZfY2xlYW51cFNlbWFudGljU2NvcmVfKG9uZSwgdHdvKSB7XG4gICAgaWYgKCFvbmUgfHwgIXR3bykge1xuICAgICAgLy8gRWRnZXMgYXJlIHRoZSBiZXN0LlxuICAgICAgcmV0dXJuIDY7XG4gICAgfVxuXG4gICAgLy8gRWFjaCBwb3J0IG9mIHRoaXMgZnVuY3Rpb24gYmVoYXZlcyBzbGlnaHRseSBkaWZmZXJlbnRseSBkdWUgdG9cbiAgICAvLyBzdWJ0bGUgZGlmZmVyZW5jZXMgaW4gZWFjaCBsYW5ndWFnZSdzIGRlZmluaXRpb24gb2YgdGhpbmdzIGxpa2VcbiAgICAvLyAnd2hpdGVzcGFjZScuICBTaW5jZSB0aGlzIGZ1bmN0aW9uJ3MgcHVycG9zZSBpcyBsYXJnZWx5IGNvc21ldGljLFxuICAgIC8vIHRoZSBjaG9pY2UgaGFzIGJlZW4gbWFkZSB0byB1c2UgZWFjaCBsYW5ndWFnZSdzIG5hdGl2ZSBmZWF0dXJlc1xuICAgIC8vIHJhdGhlciB0aGFuIGZvcmNlIHRvdGFsIGNvbmZvcm1pdHkuXG4gICAgdmFyIGNoYXIxID0gb25lLmNoYXJBdChvbmUubGVuZ3RoIC0gMSk7XG4gICAgdmFyIGNoYXIyID0gdHdvLmNoYXJBdCgwKTtcbiAgICB2YXIgbm9uQWxwaGFOdW1lcmljMSA9IGNoYXIxLm1hdGNoKG5vbkFscGhhTnVtZXJpY1JlZ2V4Xyk7XG4gICAgdmFyIG5vbkFscGhhTnVtZXJpYzIgPSBjaGFyMi5tYXRjaChub25BbHBoYU51bWVyaWNSZWdleF8pO1xuICAgIHZhciB3aGl0ZXNwYWNlMSA9IG5vbkFscGhhTnVtZXJpYzEgJiYgY2hhcjEubWF0Y2god2hpdGVzcGFjZVJlZ2V4Xyk7XG4gICAgdmFyIHdoaXRlc3BhY2UyID0gbm9uQWxwaGFOdW1lcmljMiAmJiBjaGFyMi5tYXRjaCh3aGl0ZXNwYWNlUmVnZXhfKTtcbiAgICB2YXIgbGluZUJyZWFrMSA9IHdoaXRlc3BhY2UxICYmIGNoYXIxLm1hdGNoKGxpbmVicmVha1JlZ2V4Xyk7XG4gICAgdmFyIGxpbmVCcmVhazIgPSB3aGl0ZXNwYWNlMiAmJiBjaGFyMi5tYXRjaChsaW5lYnJlYWtSZWdleF8pO1xuICAgIHZhciBibGFua0xpbmUxID0gbGluZUJyZWFrMSAmJiBvbmUubWF0Y2goYmxhbmtsaW5lRW5kUmVnZXhfKTtcbiAgICB2YXIgYmxhbmtMaW5lMiA9IGxpbmVCcmVhazIgJiYgdHdvLm1hdGNoKGJsYW5rbGluZVN0YXJ0UmVnZXhfKTtcblxuICAgIGlmIChibGFua0xpbmUxIHx8IGJsYW5rTGluZTIpIHtcbiAgICAgIC8vIEZpdmUgcG9pbnRzIGZvciBibGFuayBsaW5lcy5cbiAgICAgIHJldHVybiA1O1xuICAgIH0gZWxzZSBpZiAobGluZUJyZWFrMSB8fCBsaW5lQnJlYWsyKSB7XG4gICAgICAvLyBGb3VyIHBvaW50cyBmb3IgbGluZSBicmVha3MuXG4gICAgICByZXR1cm4gNDtcbiAgICB9IGVsc2UgaWYgKG5vbkFscGhhTnVtZXJpYzEgJiYgIXdoaXRlc3BhY2UxICYmIHdoaXRlc3BhY2UyKSB7XG4gICAgICAvLyBUaHJlZSBwb2ludHMgZm9yIGVuZCBvZiBzZW50ZW5jZXMuXG4gICAgICByZXR1cm4gMztcbiAgICB9IGVsc2UgaWYgKHdoaXRlc3BhY2UxIHx8IHdoaXRlc3BhY2UyKSB7XG4gICAgICAvLyBUd28gcG9pbnRzIGZvciB3aGl0ZXNwYWNlLlxuICAgICAgcmV0dXJuIDI7XG4gICAgfSBlbHNlIGlmIChub25BbHBoYU51bWVyaWMxIHx8IG5vbkFscGhhTnVtZXJpYzIpIHtcbiAgICAgIC8vIE9uZSBwb2ludCBmb3Igbm9uLWFscGhhbnVtZXJpYy5cbiAgICAgIHJldHVybiAxO1xuICAgIH1cbiAgICByZXR1cm4gMDtcbiAgfVxuXG4gIHZhciBwb2ludGVyID0gMTtcbiAgLy8gSW50ZW50aW9uYWxseSBpZ25vcmUgdGhlIGZpcnN0IGFuZCBsYXN0IGVsZW1lbnQgKGRvbid0IG5lZWQgY2hlY2tpbmcpLlxuICB3aGlsZSAocG9pbnRlciA8IGRpZmZzLmxlbmd0aCAtIDEpIHtcbiAgICBpZiAoXG4gICAgICBkaWZmc1twb2ludGVyIC0gMV1bMF0gPT0gRElGRl9FUVVBTCAmJlxuICAgICAgZGlmZnNbcG9pbnRlciArIDFdWzBdID09IERJRkZfRVFVQUxcbiAgICApIHtcbiAgICAgIC8vIFRoaXMgaXMgYSBzaW5nbGUgZWRpdCBzdXJyb3VuZGVkIGJ5IGVxdWFsaXRpZXMuXG4gICAgICB2YXIgZXF1YWxpdHkxID0gZGlmZnNbcG9pbnRlciAtIDFdWzFdO1xuICAgICAgdmFyIGVkaXQgPSBkaWZmc1twb2ludGVyXVsxXTtcbiAgICAgIHZhciBlcXVhbGl0eTIgPSBkaWZmc1twb2ludGVyICsgMV1bMV07XG5cbiAgICAgIC8vIEZpcnN0LCBzaGlmdCB0aGUgZWRpdCBhcyBmYXIgbGVmdCBhcyBwb3NzaWJsZS5cbiAgICAgIHZhciBjb21tb25PZmZzZXQgPSBkaWZmX2NvbW1vblN1ZmZpeChlcXVhbGl0eTEsIGVkaXQpO1xuICAgICAgaWYgKGNvbW1vbk9mZnNldCkge1xuICAgICAgICB2YXIgY29tbW9uU3RyaW5nID0gZWRpdC5zdWJzdHJpbmcoZWRpdC5sZW5ndGggLSBjb21tb25PZmZzZXQpO1xuICAgICAgICBlcXVhbGl0eTEgPSBlcXVhbGl0eTEuc3Vic3RyaW5nKDAsIGVxdWFsaXR5MS5sZW5ndGggLSBjb21tb25PZmZzZXQpO1xuICAgICAgICBlZGl0ID0gY29tbW9uU3RyaW5nICsgZWRpdC5zdWJzdHJpbmcoMCwgZWRpdC5sZW5ndGggLSBjb21tb25PZmZzZXQpO1xuICAgICAgICBlcXVhbGl0eTIgPSBjb21tb25TdHJpbmcgKyBlcXVhbGl0eTI7XG4gICAgICB9XG5cbiAgICAgIC8vIFNlY29uZCwgc3RlcCBjaGFyYWN0ZXIgYnkgY2hhcmFjdGVyIHJpZ2h0LCBsb29raW5nIGZvciB0aGUgYmVzdCBmaXQuXG4gICAgICB2YXIgYmVzdEVxdWFsaXR5MSA9IGVxdWFsaXR5MTtcbiAgICAgIHZhciBiZXN0RWRpdCA9IGVkaXQ7XG4gICAgICB2YXIgYmVzdEVxdWFsaXR5MiA9IGVxdWFsaXR5MjtcbiAgICAgIHZhciBiZXN0U2NvcmUgPVxuICAgICAgICBkaWZmX2NsZWFudXBTZW1hbnRpY1Njb3JlXyhlcXVhbGl0eTEsIGVkaXQpICtcbiAgICAgICAgZGlmZl9jbGVhbnVwU2VtYW50aWNTY29yZV8oZWRpdCwgZXF1YWxpdHkyKTtcbiAgICAgIHdoaWxlIChlZGl0LmNoYXJBdCgwKSA9PT0gZXF1YWxpdHkyLmNoYXJBdCgwKSkge1xuICAgICAgICBlcXVhbGl0eTEgKz0gZWRpdC5jaGFyQXQoMCk7XG4gICAgICAgIGVkaXQgPSBlZGl0LnN1YnN0cmluZygxKSArIGVxdWFsaXR5Mi5jaGFyQXQoMCk7XG4gICAgICAgIGVxdWFsaXR5MiA9IGVxdWFsaXR5Mi5zdWJzdHJpbmcoMSk7XG4gICAgICAgIHZhciBzY29yZSA9XG4gICAgICAgICAgZGlmZl9jbGVhbnVwU2VtYW50aWNTY29yZV8oZXF1YWxpdHkxLCBlZGl0KSArXG4gICAgICAgICAgZGlmZl9jbGVhbnVwU2VtYW50aWNTY29yZV8oZWRpdCwgZXF1YWxpdHkyKTtcbiAgICAgICAgLy8gVGhlID49IGVuY291cmFnZXMgdHJhaWxpbmcgcmF0aGVyIHRoYW4gbGVhZGluZyB3aGl0ZXNwYWNlIG9uIGVkaXRzLlxuICAgICAgICBpZiAoc2NvcmUgPj0gYmVzdFNjb3JlKSB7XG4gICAgICAgICAgYmVzdFNjb3JlID0gc2NvcmU7XG4gICAgICAgICAgYmVzdEVxdWFsaXR5MSA9IGVxdWFsaXR5MTtcbiAgICAgICAgICBiZXN0RWRpdCA9IGVkaXQ7XG4gICAgICAgICAgYmVzdEVxdWFsaXR5MiA9IGVxdWFsaXR5MjtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBpZiAoZGlmZnNbcG9pbnRlciAtIDFdWzFdICE9IGJlc3RFcXVhbGl0eTEpIHtcbiAgICAgICAgLy8gV2UgaGF2ZSBhbiBpbXByb3ZlbWVudCwgc2F2ZSBpdCBiYWNrIHRvIHRoZSBkaWZmLlxuICAgICAgICBpZiAoYmVzdEVxdWFsaXR5MSkge1xuICAgICAgICAgIGRpZmZzW3BvaW50ZXIgLSAxXVsxXSA9IGJlc3RFcXVhbGl0eTE7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgZGlmZnMuc3BsaWNlKHBvaW50ZXIgLSAxLCAxKTtcbiAgICAgICAgICBwb2ludGVyLS07XG4gICAgICAgIH1cbiAgICAgICAgZGlmZnNbcG9pbnRlcl1bMV0gPSBiZXN0RWRpdDtcbiAgICAgICAgaWYgKGJlc3RFcXVhbGl0eTIpIHtcbiAgICAgICAgICBkaWZmc1twb2ludGVyICsgMV1bMV0gPSBiZXN0RXF1YWxpdHkyO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGRpZmZzLnNwbGljZShwb2ludGVyICsgMSwgMSk7XG4gICAgICAgICAgcG9pbnRlci0tO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIHBvaW50ZXIrKztcbiAgfVxufVxuXG4vKipcbiAqIFJlb3JkZXIgYW5kIG1lcmdlIGxpa2UgZWRpdCBzZWN0aW9ucy4gIE1lcmdlIGVxdWFsaXRpZXMuXG4gKiBBbnkgZWRpdCBzZWN0aW9uIGNhbiBtb3ZlIGFzIGxvbmcgYXMgaXQgZG9lc24ndCBjcm9zcyBhbiBlcXVhbGl0eS5cbiAqIEBwYXJhbSB7QXJyYXl9IGRpZmZzIEFycmF5IG9mIGRpZmYgdHVwbGVzLlxuICogQHBhcmFtIHtib29sZWFufSBmaXhfdW5pY29kZSBXaGV0aGVyIHRvIG5vcm1hbGl6ZSB0byBhIHVuaWNvZGUtY29ycmVjdCBkaWZmXG4gKi9cbmZ1bmN0aW9uIGRpZmZfY2xlYW51cE1lcmdlKGRpZmZzLCBmaXhfdW5pY29kZSkge1xuICBkaWZmcy5wdXNoKFtESUZGX0VRVUFMLCBcIlwiXSk7IC8vIEFkZCBhIGR1bW15IGVudHJ5IGF0IHRoZSBlbmQuXG4gIHZhciBwb2ludGVyID0gMDtcbiAgdmFyIGNvdW50X2RlbGV0ZSA9IDA7XG4gIHZhciBjb3VudF9pbnNlcnQgPSAwO1xuICB2YXIgdGV4dF9kZWxldGUgPSBcIlwiO1xuICB2YXIgdGV4dF9pbnNlcnQgPSBcIlwiO1xuICB2YXIgY29tbW9ubGVuZ3RoO1xuICB3aGlsZSAocG9pbnRlciA8IGRpZmZzLmxlbmd0aCkge1xuICAgIGlmIChwb2ludGVyIDwgZGlmZnMubGVuZ3RoIC0gMSAmJiAhZGlmZnNbcG9pbnRlcl1bMV0pIHtcbiAgICAgIGRpZmZzLnNwbGljZShwb2ludGVyLCAxKTtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cbiAgICBzd2l0Y2ggKGRpZmZzW3BvaW50ZXJdWzBdKSB7XG4gICAgICBjYXNlIERJRkZfSU5TRVJUOlxuICAgICAgICBjb3VudF9pbnNlcnQrKztcbiAgICAgICAgdGV4dF9pbnNlcnQgKz0gZGlmZnNbcG9pbnRlcl1bMV07XG4gICAgICAgIHBvaW50ZXIrKztcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIERJRkZfREVMRVRFOlxuICAgICAgICBjb3VudF9kZWxldGUrKztcbiAgICAgICAgdGV4dF9kZWxldGUgKz0gZGlmZnNbcG9pbnRlcl1bMV07XG4gICAgICAgIHBvaW50ZXIrKztcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIERJRkZfRVFVQUw6XG4gICAgICAgIHZhciBwcmV2aW91c19lcXVhbGl0eSA9IHBvaW50ZXIgLSBjb3VudF9pbnNlcnQgLSBjb3VudF9kZWxldGUgLSAxO1xuICAgICAgICBpZiAoZml4X3VuaWNvZGUpIHtcbiAgICAgICAgICAvLyBwcmV2ZW50IHNwbGl0dGluZyBvZiB1bmljb2RlIHN1cnJvZ2F0ZSBwYWlycy4gIHdoZW4gZml4X3VuaWNvZGUgaXMgdHJ1ZSxcbiAgICAgICAgICAvLyB3ZSBhc3N1bWUgdGhhdCB0aGUgb2xkIGFuZCBuZXcgdGV4dCBpbiB0aGUgZGlmZiBhcmUgY29tcGxldGUgYW5kIGNvcnJlY3RcbiAgICAgICAgICAvLyB1bmljb2RlLWVuY29kZWQgSlMgc3RyaW5ncywgYnV0IHRoZSB0dXBsZSBib3VuZGFyaWVzIG1heSBmYWxsIGJldHdlZW5cbiAgICAgICAgICAvLyBzdXJyb2dhdGUgcGFpcnMuICB3ZSBmaXggdGhpcyBieSBzaGF2aW5nIG9mZiBzdHJheSBzdXJyb2dhdGVzIGZyb20gdGhlIGVuZFxuICAgICAgICAgIC8vIG9mIHRoZSBwcmV2aW91cyBlcXVhbGl0eSBhbmQgdGhlIGJlZ2lubmluZyBvZiB0aGlzIGVxdWFsaXR5LiAgdGhpcyBtYXkgY3JlYXRlXG4gICAgICAgICAgLy8gZW1wdHkgZXF1YWxpdGllcyBvciBhIGNvbW1vbiBwcmVmaXggb3Igc3VmZml4LiAgZm9yIGV4YW1wbGUsIGlmIEFCIGFuZCBBQyBhcmVcbiAgICAgICAgICAvLyBlbW9qaXMsIGBbWzAsICdBJ10sIFstMSwgJ0JBJ10sIFswLCAnQyddXWAgd291bGQgdHVybiBpbnRvIGRlbGV0aW5nICdBQkFDJyBhbmRcbiAgICAgICAgICAvLyBpbnNlcnRpbmcgJ0FDJywgYW5kIHRoZW4gdGhlIGNvbW1vbiBzdWZmaXggJ0FDJyB3aWxsIGJlIGVsaW1pbmF0ZWQuICBpbiB0aGlzXG4gICAgICAgICAgLy8gcGFydGljdWxhciBjYXNlLCBib3RoIGVxdWFsaXRpZXMgZ28gYXdheSwgd2UgYWJzb3JiIGFueSBwcmV2aW91cyBpbmVxdWFsaXRpZXMsXG4gICAgICAgICAgLy8gYW5kIHdlIGtlZXAgc2Nhbm5pbmcgZm9yIHRoZSBuZXh0IGVxdWFsaXR5IGJlZm9yZSByZXdyaXRpbmcgdGhlIHR1cGxlcy5cbiAgICAgICAgICBpZiAoXG4gICAgICAgICAgICBwcmV2aW91c19lcXVhbGl0eSA+PSAwICYmXG4gICAgICAgICAgICBlbmRzX3dpdGhfcGFpcl9zdGFydChkaWZmc1twcmV2aW91c19lcXVhbGl0eV1bMV0pXG4gICAgICAgICAgKSB7XG4gICAgICAgICAgICB2YXIgc3RyYXkgPSBkaWZmc1twcmV2aW91c19lcXVhbGl0eV1bMV0uc2xpY2UoLTEpO1xuICAgICAgICAgICAgZGlmZnNbcHJldmlvdXNfZXF1YWxpdHldWzFdID0gZGlmZnNbcHJldmlvdXNfZXF1YWxpdHldWzFdLnNsaWNlKFxuICAgICAgICAgICAgICAwLFxuICAgICAgICAgICAgICAtMVxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIHRleHRfZGVsZXRlID0gc3RyYXkgKyB0ZXh0X2RlbGV0ZTtcbiAgICAgICAgICAgIHRleHRfaW5zZXJ0ID0gc3RyYXkgKyB0ZXh0X2luc2VydDtcbiAgICAgICAgICAgIGlmICghZGlmZnNbcHJldmlvdXNfZXF1YWxpdHldWzFdKSB7XG4gICAgICAgICAgICAgIC8vIGVtcHRpZWQgb3V0IHByZXZpb3VzIGVxdWFsaXR5LCBzbyBkZWxldGUgaXQgYW5kIGluY2x1ZGUgcHJldmlvdXMgZGVsZXRlL2luc2VydFxuICAgICAgICAgICAgICBkaWZmcy5zcGxpY2UocHJldmlvdXNfZXF1YWxpdHksIDEpO1xuICAgICAgICAgICAgICBwb2ludGVyLS07XG4gICAgICAgICAgICAgIHZhciBrID0gcHJldmlvdXNfZXF1YWxpdHkgLSAxO1xuICAgICAgICAgICAgICBpZiAoZGlmZnNba10gJiYgZGlmZnNba11bMF0gPT09IERJRkZfSU5TRVJUKSB7XG4gICAgICAgICAgICAgICAgY291bnRfaW5zZXJ0Kys7XG4gICAgICAgICAgICAgICAgdGV4dF9pbnNlcnQgPSBkaWZmc1trXVsxXSArIHRleHRfaW5zZXJ0O1xuICAgICAgICAgICAgICAgIGstLTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBpZiAoZGlmZnNba10gJiYgZGlmZnNba11bMF0gPT09IERJRkZfREVMRVRFKSB7XG4gICAgICAgICAgICAgICAgY291bnRfZGVsZXRlKys7XG4gICAgICAgICAgICAgICAgdGV4dF9kZWxldGUgPSBkaWZmc1trXVsxXSArIHRleHRfZGVsZXRlO1xuICAgICAgICAgICAgICAgIGstLTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBwcmV2aW91c19lcXVhbGl0eSA9IGs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChzdGFydHNfd2l0aF9wYWlyX2VuZChkaWZmc1twb2ludGVyXVsxXSkpIHtcbiAgICAgICAgICAgIHZhciBzdHJheSA9IGRpZmZzW3BvaW50ZXJdWzFdLmNoYXJBdCgwKTtcbiAgICAgICAgICAgIGRpZmZzW3BvaW50ZXJdWzFdID0gZGlmZnNbcG9pbnRlcl1bMV0uc2xpY2UoMSk7XG4gICAgICAgICAgICB0ZXh0X2RlbGV0ZSArPSBzdHJheTtcbiAgICAgICAgICAgIHRleHRfaW5zZXJ0ICs9IHN0cmF5O1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAocG9pbnRlciA8IGRpZmZzLmxlbmd0aCAtIDEgJiYgIWRpZmZzW3BvaW50ZXJdWzFdKSB7XG4gICAgICAgICAgLy8gZm9yIGVtcHR5IGVxdWFsaXR5IG5vdCBhdCBlbmQsIHdhaXQgZm9yIG5leHQgZXF1YWxpdHlcbiAgICAgICAgICBkaWZmcy5zcGxpY2UocG9pbnRlciwgMSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRleHRfZGVsZXRlLmxlbmd0aCA+IDAgfHwgdGV4dF9pbnNlcnQubGVuZ3RoID4gMCkge1xuICAgICAgICAgIC8vIG5vdGUgdGhhdCBkaWZmX2NvbW1vblByZWZpeCBhbmQgZGlmZl9jb21tb25TdWZmaXggYXJlIHVuaWNvZGUtYXdhcmVcbiAgICAgICAgICBpZiAodGV4dF9kZWxldGUubGVuZ3RoID4gMCAmJiB0ZXh0X2luc2VydC5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAvLyBGYWN0b3Igb3V0IGFueSBjb21tb24gcHJlZml4ZXMuXG4gICAgICAgICAgICBjb21tb25sZW5ndGggPSBkaWZmX2NvbW1vblByZWZpeCh0ZXh0X2luc2VydCwgdGV4dF9kZWxldGUpO1xuICAgICAgICAgICAgaWYgKGNvbW1vbmxlbmd0aCAhPT0gMCkge1xuICAgICAgICAgICAgICBpZiAocHJldmlvdXNfZXF1YWxpdHkgPj0gMCkge1xuICAgICAgICAgICAgICAgIGRpZmZzW3ByZXZpb3VzX2VxdWFsaXR5XVsxXSArPSB0ZXh0X2luc2VydC5zdWJzdHJpbmcoXG4gICAgICAgICAgICAgICAgICAwLFxuICAgICAgICAgICAgICAgICAgY29tbW9ubGVuZ3RoXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBkaWZmcy5zcGxpY2UoMCwgMCwgW1xuICAgICAgICAgICAgICAgICAgRElGRl9FUVVBTCxcbiAgICAgICAgICAgICAgICAgIHRleHRfaW5zZXJ0LnN1YnN0cmluZygwLCBjb21tb25sZW5ndGgpLFxuICAgICAgICAgICAgICAgIF0pO1xuICAgICAgICAgICAgICAgIHBvaW50ZXIrKztcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB0ZXh0X2luc2VydCA9IHRleHRfaW5zZXJ0LnN1YnN0cmluZyhjb21tb25sZW5ndGgpO1xuICAgICAgICAgICAgICB0ZXh0X2RlbGV0ZSA9IHRleHRfZGVsZXRlLnN1YnN0cmluZyhjb21tb25sZW5ndGgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gRmFjdG9yIG91dCBhbnkgY29tbW9uIHN1ZmZpeGVzLlxuICAgICAgICAgICAgY29tbW9ubGVuZ3RoID0gZGlmZl9jb21tb25TdWZmaXgodGV4dF9pbnNlcnQsIHRleHRfZGVsZXRlKTtcbiAgICAgICAgICAgIGlmIChjb21tb25sZW5ndGggIT09IDApIHtcbiAgICAgICAgICAgICAgZGlmZnNbcG9pbnRlcl1bMV0gPVxuICAgICAgICAgICAgICAgIHRleHRfaW5zZXJ0LnN1YnN0cmluZyh0ZXh0X2luc2VydC5sZW5ndGggLSBjb21tb25sZW5ndGgpICtcbiAgICAgICAgICAgICAgICBkaWZmc1twb2ludGVyXVsxXTtcbiAgICAgICAgICAgICAgdGV4dF9pbnNlcnQgPSB0ZXh0X2luc2VydC5zdWJzdHJpbmcoXG4gICAgICAgICAgICAgICAgMCxcbiAgICAgICAgICAgICAgICB0ZXh0X2luc2VydC5sZW5ndGggLSBjb21tb25sZW5ndGhcbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgdGV4dF9kZWxldGUgPSB0ZXh0X2RlbGV0ZS5zdWJzdHJpbmcoXG4gICAgICAgICAgICAgICAgMCxcbiAgICAgICAgICAgICAgICB0ZXh0X2RlbGV0ZS5sZW5ndGggLSBjb21tb25sZW5ndGhcbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgLy8gRGVsZXRlIHRoZSBvZmZlbmRpbmcgcmVjb3JkcyBhbmQgYWRkIHRoZSBtZXJnZWQgb25lcy5cbiAgICAgICAgICB2YXIgbiA9IGNvdW50X2luc2VydCArIGNvdW50X2RlbGV0ZTtcbiAgICAgICAgICBpZiAodGV4dF9kZWxldGUubGVuZ3RoID09PSAwICYmIHRleHRfaW5zZXJ0Lmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgZGlmZnMuc3BsaWNlKHBvaW50ZXIgLSBuLCBuKTtcbiAgICAgICAgICAgIHBvaW50ZXIgPSBwb2ludGVyIC0gbjtcbiAgICAgICAgICB9IGVsc2UgaWYgKHRleHRfZGVsZXRlLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgZGlmZnMuc3BsaWNlKHBvaW50ZXIgLSBuLCBuLCBbRElGRl9JTlNFUlQsIHRleHRfaW5zZXJ0XSk7XG4gICAgICAgICAgICBwb2ludGVyID0gcG9pbnRlciAtIG4gKyAxO1xuICAgICAgICAgIH0gZWxzZSBpZiAodGV4dF9pbnNlcnQubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICBkaWZmcy5zcGxpY2UocG9pbnRlciAtIG4sIG4sIFtESUZGX0RFTEVURSwgdGV4dF9kZWxldGVdKTtcbiAgICAgICAgICAgIHBvaW50ZXIgPSBwb2ludGVyIC0gbiArIDE7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGRpZmZzLnNwbGljZShcbiAgICAgICAgICAgICAgcG9pbnRlciAtIG4sXG4gICAgICAgICAgICAgIG4sXG4gICAgICAgICAgICAgIFtESUZGX0RFTEVURSwgdGV4dF9kZWxldGVdLFxuICAgICAgICAgICAgICBbRElGRl9JTlNFUlQsIHRleHRfaW5zZXJ0XVxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIHBvaW50ZXIgPSBwb2ludGVyIC0gbiArIDI7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChwb2ludGVyICE9PSAwICYmIGRpZmZzW3BvaW50ZXIgLSAxXVswXSA9PT0gRElGRl9FUVVBTCkge1xuICAgICAgICAgIC8vIE1lcmdlIHRoaXMgZXF1YWxpdHkgd2l0aCB0aGUgcHJldmlvdXMgb25lLlxuICAgICAgICAgIGRpZmZzW3BvaW50ZXIgLSAxXVsxXSArPSBkaWZmc1twb2ludGVyXVsxXTtcbiAgICAgICAgICBkaWZmcy5zcGxpY2UocG9pbnRlciwgMSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcG9pbnRlcisrO1xuICAgICAgICB9XG4gICAgICAgIGNvdW50X2luc2VydCA9IDA7XG4gICAgICAgIGNvdW50X2RlbGV0ZSA9IDA7XG4gICAgICAgIHRleHRfZGVsZXRlID0gXCJcIjtcbiAgICAgICAgdGV4dF9pbnNlcnQgPSBcIlwiO1xuICAgICAgICBicmVhaztcbiAgICB9XG4gIH1cbiAgaWYgKGRpZmZzW2RpZmZzLmxlbmd0aCAtIDFdWzFdID09PSBcIlwiKSB7XG4gICAgZGlmZnMucG9wKCk7IC8vIFJlbW92ZSB0aGUgZHVtbXkgZW50cnkgYXQgdGhlIGVuZC5cbiAgfVxuXG4gIC8vIFNlY29uZCBwYXNzOiBsb29rIGZvciBzaW5nbGUgZWRpdHMgc3Vycm91bmRlZCBvbiBib3RoIHNpZGVzIGJ5IGVxdWFsaXRpZXNcbiAgLy8gd2hpY2ggY2FuIGJlIHNoaWZ0ZWQgc2lkZXdheXMgdG8gZWxpbWluYXRlIGFuIGVxdWFsaXR5LlxuICAvLyBlLmc6IEE8aW5zPkJBPC9pbnM+QyAtPiA8aW5zPkFCPC9pbnM+QUNcbiAgdmFyIGNoYW5nZXMgPSBmYWxzZTtcbiAgcG9pbnRlciA9IDE7XG4gIC8vIEludGVudGlvbmFsbHkgaWdub3JlIHRoZSBmaXJzdCBhbmQgbGFzdCBlbGVtZW50IChkb24ndCBuZWVkIGNoZWNraW5nKS5cbiAgd2hpbGUgKHBvaW50ZXIgPCBkaWZmcy5sZW5ndGggLSAxKSB7XG4gICAgaWYgKFxuICAgICAgZGlmZnNbcG9pbnRlciAtIDFdWzBdID09PSBESUZGX0VRVUFMICYmXG4gICAgICBkaWZmc1twb2ludGVyICsgMV1bMF0gPT09IERJRkZfRVFVQUxcbiAgICApIHtcbiAgICAgIC8vIFRoaXMgaXMgYSBzaW5nbGUgZWRpdCBzdXJyb3VuZGVkIGJ5IGVxdWFsaXRpZXMuXG4gICAgICBpZiAoXG4gICAgICAgIGRpZmZzW3BvaW50ZXJdWzFdLnN1YnN0cmluZyhcbiAgICAgICAgICBkaWZmc1twb2ludGVyXVsxXS5sZW5ndGggLSBkaWZmc1twb2ludGVyIC0gMV1bMV0ubGVuZ3RoXG4gICAgICAgICkgPT09IGRpZmZzW3BvaW50ZXIgLSAxXVsxXVxuICAgICAgKSB7XG4gICAgICAgIC8vIFNoaWZ0IHRoZSBlZGl0IG92ZXIgdGhlIHByZXZpb3VzIGVxdWFsaXR5LlxuICAgICAgICBkaWZmc1twb2ludGVyXVsxXSA9XG4gICAgICAgICAgZGlmZnNbcG9pbnRlciAtIDFdWzFdICtcbiAgICAgICAgICBkaWZmc1twb2ludGVyXVsxXS5zdWJzdHJpbmcoXG4gICAgICAgICAgICAwLFxuICAgICAgICAgICAgZGlmZnNbcG9pbnRlcl1bMV0ubGVuZ3RoIC0gZGlmZnNbcG9pbnRlciAtIDFdWzFdLmxlbmd0aFxuICAgICAgICAgICk7XG4gICAgICAgIGRpZmZzW3BvaW50ZXIgKyAxXVsxXSA9IGRpZmZzW3BvaW50ZXIgLSAxXVsxXSArIGRpZmZzW3BvaW50ZXIgKyAxXVsxXTtcbiAgICAgICAgZGlmZnMuc3BsaWNlKHBvaW50ZXIgLSAxLCAxKTtcbiAgICAgICAgY2hhbmdlcyA9IHRydWU7XG4gICAgICB9IGVsc2UgaWYgKFxuICAgICAgICBkaWZmc1twb2ludGVyXVsxXS5zdWJzdHJpbmcoMCwgZGlmZnNbcG9pbnRlciArIDFdWzFdLmxlbmd0aCkgPT1cbiAgICAgICAgZGlmZnNbcG9pbnRlciArIDFdWzFdXG4gICAgICApIHtcbiAgICAgICAgLy8gU2hpZnQgdGhlIGVkaXQgb3ZlciB0aGUgbmV4dCBlcXVhbGl0eS5cbiAgICAgICAgZGlmZnNbcG9pbnRlciAtIDFdWzFdICs9IGRpZmZzW3BvaW50ZXIgKyAxXVsxXTtcbiAgICAgICAgZGlmZnNbcG9pbnRlcl1bMV0gPVxuICAgICAgICAgIGRpZmZzW3BvaW50ZXJdWzFdLnN1YnN0cmluZyhkaWZmc1twb2ludGVyICsgMV1bMV0ubGVuZ3RoKSArXG4gICAgICAgICAgZGlmZnNbcG9pbnRlciArIDFdWzFdO1xuICAgICAgICBkaWZmcy5zcGxpY2UocG9pbnRlciArIDEsIDEpO1xuICAgICAgICBjaGFuZ2VzID0gdHJ1ZTtcbiAgICAgIH1cbiAgICB9XG4gICAgcG9pbnRlcisrO1xuICB9XG4gIC8vIElmIHNoaWZ0cyB3ZXJlIG1hZGUsIHRoZSBkaWZmIG5lZWRzIHJlb3JkZXJpbmcgYW5kIGFub3RoZXIgc2hpZnQgc3dlZXAuXG4gIGlmIChjaGFuZ2VzKSB7XG4gICAgZGlmZl9jbGVhbnVwTWVyZ2UoZGlmZnMsIGZpeF91bmljb2RlKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBpc19zdXJyb2dhdGVfcGFpcl9zdGFydChjaGFyQ29kZSkge1xuICByZXR1cm4gY2hhckNvZGUgPj0gMHhkODAwICYmIGNoYXJDb2RlIDw9IDB4ZGJmZjtcbn1cblxuZnVuY3Rpb24gaXNfc3Vycm9nYXRlX3BhaXJfZW5kKGNoYXJDb2RlKSB7XG4gIHJldHVybiBjaGFyQ29kZSA+PSAweGRjMDAgJiYgY2hhckNvZGUgPD0gMHhkZmZmO1xufVxuXG5mdW5jdGlvbiBzdGFydHNfd2l0aF9wYWlyX2VuZChzdHIpIHtcbiAgcmV0dXJuIGlzX3N1cnJvZ2F0ZV9wYWlyX2VuZChzdHIuY2hhckNvZGVBdCgwKSk7XG59XG5cbmZ1bmN0aW9uIGVuZHNfd2l0aF9wYWlyX3N0YXJ0KHN0cikge1xuICByZXR1cm4gaXNfc3Vycm9nYXRlX3BhaXJfc3RhcnQoc3RyLmNoYXJDb2RlQXQoc3RyLmxlbmd0aCAtIDEpKTtcbn1cblxuZnVuY3Rpb24gcmVtb3ZlX2VtcHR5X3R1cGxlcyh0dXBsZXMpIHtcbiAgdmFyIHJldCA9IFtdO1xuICBmb3IgKHZhciBpID0gMDsgaSA8IHR1cGxlcy5sZW5ndGg7IGkrKykge1xuICAgIGlmICh0dXBsZXNbaV1bMV0ubGVuZ3RoID4gMCkge1xuICAgICAgcmV0LnB1c2godHVwbGVzW2ldKTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHJldDtcbn1cblxuZnVuY3Rpb24gbWFrZV9lZGl0X3NwbGljZShiZWZvcmUsIG9sZE1pZGRsZSwgbmV3TWlkZGxlLCBhZnRlcikge1xuICBpZiAoZW5kc193aXRoX3BhaXJfc3RhcnQoYmVmb3JlKSB8fCBzdGFydHNfd2l0aF9wYWlyX2VuZChhZnRlcikpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuICByZXR1cm4gcmVtb3ZlX2VtcHR5X3R1cGxlcyhbXG4gICAgW0RJRkZfRVFVQUwsIGJlZm9yZV0sXG4gICAgW0RJRkZfREVMRVRFLCBvbGRNaWRkbGVdLFxuICAgIFtESUZGX0lOU0VSVCwgbmV3TWlkZGxlXSxcbiAgICBbRElGRl9FUVVBTCwgYWZ0ZXJdLFxuICBdKTtcbn1cblxuZnVuY3Rpb24gZmluZF9jdXJzb3JfZWRpdF9kaWZmKG9sZFRleHQsIG5ld1RleHQsIGN1cnNvcl9wb3MpIHtcbiAgLy8gbm90ZTogdGhpcyBydW5zIGFmdGVyIGVxdWFsaXR5IGNoZWNrIGhhcyBydWxlZCBvdXQgZXhhY3QgZXF1YWxpdHlcbiAgdmFyIG9sZFJhbmdlID1cbiAgICB0eXBlb2YgY3Vyc29yX3BvcyA9PT0gXCJudW1iZXJcIlxuICAgICAgPyB7IGluZGV4OiBjdXJzb3JfcG9zLCBsZW5ndGg6IDAgfVxuICAgICAgOiBjdXJzb3JfcG9zLm9sZFJhbmdlO1xuICB2YXIgbmV3UmFuZ2UgPSB0eXBlb2YgY3Vyc29yX3BvcyA9PT0gXCJudW1iZXJcIiA/IG51bGwgOiBjdXJzb3JfcG9zLm5ld1JhbmdlO1xuICAvLyB0YWtlIGludG8gYWNjb3VudCB0aGUgb2xkIGFuZCBuZXcgc2VsZWN0aW9uIHRvIGdlbmVyYXRlIHRoZSBiZXN0IGRpZmZcbiAgLy8gcG9zc2libGUgZm9yIGEgdGV4dCBlZGl0LiAgZm9yIGV4YW1wbGUsIGEgdGV4dCBjaGFuZ2UgZnJvbSBcInh4eFwiIHRvIFwieHhcIlxuICAvLyBjb3VsZCBiZSBhIGRlbGV0ZSBvciBmb3J3YXJkcy1kZWxldGUgb2YgYW55IG9uZSBvZiB0aGUgeCdzLCBvciB0aGVcbiAgLy8gcmVzdWx0IG9mIHNlbGVjdGluZyB0d28gb2YgdGhlIHgncyBhbmQgdHlwaW5nIFwieFwiLlxuICB2YXIgb2xkTGVuZ3RoID0gb2xkVGV4dC5sZW5ndGg7XG4gIHZhciBuZXdMZW5ndGggPSBuZXdUZXh0Lmxlbmd0aDtcbiAgaWYgKG9sZFJhbmdlLmxlbmd0aCA9PT0gMCAmJiAobmV3UmFuZ2UgPT09IG51bGwgfHwgbmV3UmFuZ2UubGVuZ3RoID09PSAwKSkge1xuICAgIC8vIHNlZSBpZiB3ZSBoYXZlIGFuIGluc2VydCBvciBkZWxldGUgYmVmb3JlIG9yIGFmdGVyIGN1cnNvclxuICAgIHZhciBvbGRDdXJzb3IgPSBvbGRSYW5nZS5pbmRleDtcbiAgICB2YXIgb2xkQmVmb3JlID0gb2xkVGV4dC5zbGljZSgwLCBvbGRDdXJzb3IpO1xuICAgIHZhciBvbGRBZnRlciA9IG9sZFRleHQuc2xpY2Uob2xkQ3Vyc29yKTtcbiAgICB2YXIgbWF5YmVOZXdDdXJzb3IgPSBuZXdSYW5nZSA/IG5ld1JhbmdlLmluZGV4IDogbnVsbDtcbiAgICBlZGl0QmVmb3JlOiB7XG4gICAgICAvLyBpcyB0aGlzIGFuIGluc2VydCBvciBkZWxldGUgcmlnaHQgYmVmb3JlIG9sZEN1cnNvcj9cbiAgICAgIHZhciBuZXdDdXJzb3IgPSBvbGRDdXJzb3IgKyBuZXdMZW5ndGggLSBvbGRMZW5ndGg7XG4gICAgICBpZiAobWF5YmVOZXdDdXJzb3IgIT09IG51bGwgJiYgbWF5YmVOZXdDdXJzb3IgIT09IG5ld0N1cnNvcikge1xuICAgICAgICBicmVhayBlZGl0QmVmb3JlO1xuICAgICAgfVxuICAgICAgaWYgKG5ld0N1cnNvciA8IDAgfHwgbmV3Q3Vyc29yID4gbmV3TGVuZ3RoKSB7XG4gICAgICAgIGJyZWFrIGVkaXRCZWZvcmU7XG4gICAgICB9XG4gICAgICB2YXIgbmV3QmVmb3JlID0gbmV3VGV4dC5zbGljZSgwLCBuZXdDdXJzb3IpO1xuICAgICAgdmFyIG5ld0FmdGVyID0gbmV3VGV4dC5zbGljZShuZXdDdXJzb3IpO1xuICAgICAgaWYgKG5ld0FmdGVyICE9PSBvbGRBZnRlcikge1xuICAgICAgICBicmVhayBlZGl0QmVmb3JlO1xuICAgICAgfVxuICAgICAgdmFyIHByZWZpeExlbmd0aCA9IE1hdGgubWluKG9sZEN1cnNvciwgbmV3Q3Vyc29yKTtcbiAgICAgIHZhciBvbGRQcmVmaXggPSBvbGRCZWZvcmUuc2xpY2UoMCwgcHJlZml4TGVuZ3RoKTtcbiAgICAgIHZhciBuZXdQcmVmaXggPSBuZXdCZWZvcmUuc2xpY2UoMCwgcHJlZml4TGVuZ3RoKTtcbiAgICAgIGlmIChvbGRQcmVmaXggIT09IG5ld1ByZWZpeCkge1xuICAgICAgICBicmVhayBlZGl0QmVmb3JlO1xuICAgICAgfVxuICAgICAgdmFyIG9sZE1pZGRsZSA9IG9sZEJlZm9yZS5zbGljZShwcmVmaXhMZW5ndGgpO1xuICAgICAgdmFyIG5ld01pZGRsZSA9IG5ld0JlZm9yZS5zbGljZShwcmVmaXhMZW5ndGgpO1xuICAgICAgcmV0dXJuIG1ha2VfZWRpdF9zcGxpY2Uob2xkUHJlZml4LCBvbGRNaWRkbGUsIG5ld01pZGRsZSwgb2xkQWZ0ZXIpO1xuICAgIH1cbiAgICBlZGl0QWZ0ZXI6IHtcbiAgICAgIC8vIGlzIHRoaXMgYW4gaW5zZXJ0IG9yIGRlbGV0ZSByaWdodCBhZnRlciBvbGRDdXJzb3I/XG4gICAgICBpZiAobWF5YmVOZXdDdXJzb3IgIT09IG51bGwgJiYgbWF5YmVOZXdDdXJzb3IgIT09IG9sZEN1cnNvcikge1xuICAgICAgICBicmVhayBlZGl0QWZ0ZXI7XG4gICAgICB9XG4gICAgICB2YXIgY3Vyc29yID0gb2xkQ3Vyc29yO1xuICAgICAgdmFyIG5ld0JlZm9yZSA9IG5ld1RleHQuc2xpY2UoMCwgY3Vyc29yKTtcbiAgICAgIHZhciBuZXdBZnRlciA9IG5ld1RleHQuc2xpY2UoY3Vyc29yKTtcbiAgICAgIGlmIChuZXdCZWZvcmUgIT09IG9sZEJlZm9yZSkge1xuICAgICAgICBicmVhayBlZGl0QWZ0ZXI7XG4gICAgICB9XG4gICAgICB2YXIgc3VmZml4TGVuZ3RoID0gTWF0aC5taW4ob2xkTGVuZ3RoIC0gY3Vyc29yLCBuZXdMZW5ndGggLSBjdXJzb3IpO1xuICAgICAgdmFyIG9sZFN1ZmZpeCA9IG9sZEFmdGVyLnNsaWNlKG9sZEFmdGVyLmxlbmd0aCAtIHN1ZmZpeExlbmd0aCk7XG4gICAgICB2YXIgbmV3U3VmZml4ID0gbmV3QWZ0ZXIuc2xpY2UobmV3QWZ0ZXIubGVuZ3RoIC0gc3VmZml4TGVuZ3RoKTtcbiAgICAgIGlmIChvbGRTdWZmaXggIT09IG5ld1N1ZmZpeCkge1xuICAgICAgICBicmVhayBlZGl0QWZ0ZXI7XG4gICAgICB9XG4gICAgICB2YXIgb2xkTWlkZGxlID0gb2xkQWZ0ZXIuc2xpY2UoMCwgb2xkQWZ0ZXIubGVuZ3RoIC0gc3VmZml4TGVuZ3RoKTtcbiAgICAgIHZhciBuZXdNaWRkbGUgPSBuZXdBZnRlci5zbGljZSgwLCBuZXdBZnRlci5sZW5ndGggLSBzdWZmaXhMZW5ndGgpO1xuICAgICAgcmV0dXJuIG1ha2VfZWRpdF9zcGxpY2Uob2xkQmVmb3JlLCBvbGRNaWRkbGUsIG5ld01pZGRsZSwgb2xkU3VmZml4KTtcbiAgICB9XG4gIH1cbiAgaWYgKG9sZFJhbmdlLmxlbmd0aCA+IDAgJiYgbmV3UmFuZ2UgJiYgbmV3UmFuZ2UubGVuZ3RoID09PSAwKSB7XG4gICAgcmVwbGFjZVJhbmdlOiB7XG4gICAgICAvLyBzZWUgaWYgZGlmZiBjb3VsZCBiZSBhIHNwbGljZSBvZiB0aGUgb2xkIHNlbGVjdGlvbiByYW5nZVxuICAgICAgdmFyIG9sZFByZWZpeCA9IG9sZFRleHQuc2xpY2UoMCwgb2xkUmFuZ2UuaW5kZXgpO1xuICAgICAgdmFyIG9sZFN1ZmZpeCA9IG9sZFRleHQuc2xpY2Uob2xkUmFuZ2UuaW5kZXggKyBvbGRSYW5nZS5sZW5ndGgpO1xuICAgICAgdmFyIHByZWZpeExlbmd0aCA9IG9sZFByZWZpeC5sZW5ndGg7XG4gICAgICB2YXIgc3VmZml4TGVuZ3RoID0gb2xkU3VmZml4Lmxlbmd0aDtcbiAgICAgIGlmIChuZXdMZW5ndGggPCBwcmVmaXhMZW5ndGggKyBzdWZmaXhMZW5ndGgpIHtcbiAgICAgICAgYnJlYWsgcmVwbGFjZVJhbmdlO1xuICAgICAgfVxuICAgICAgdmFyIG5ld1ByZWZpeCA9IG5ld1RleHQuc2xpY2UoMCwgcHJlZml4TGVuZ3RoKTtcbiAgICAgIHZhciBuZXdTdWZmaXggPSBuZXdUZXh0LnNsaWNlKG5ld0xlbmd0aCAtIHN1ZmZpeExlbmd0aCk7XG4gICAgICBpZiAob2xkUHJlZml4ICE9PSBuZXdQcmVmaXggfHwgb2xkU3VmZml4ICE9PSBuZXdTdWZmaXgpIHtcbiAgICAgICAgYnJlYWsgcmVwbGFjZVJhbmdlO1xuICAgICAgfVxuICAgICAgdmFyIG9sZE1pZGRsZSA9IG9sZFRleHQuc2xpY2UocHJlZml4TGVuZ3RoLCBvbGRMZW5ndGggLSBzdWZmaXhMZW5ndGgpO1xuICAgICAgdmFyIG5ld01pZGRsZSA9IG5ld1RleHQuc2xpY2UocHJlZml4TGVuZ3RoLCBuZXdMZW5ndGggLSBzdWZmaXhMZW5ndGgpO1xuICAgICAgcmV0dXJuIG1ha2VfZWRpdF9zcGxpY2Uob2xkUHJlZml4LCBvbGRNaWRkbGUsIG5ld01pZGRsZSwgb2xkU3VmZml4KTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gbnVsbDtcbn1cblxuZnVuY3Rpb24gZGlmZih0ZXh0MSwgdGV4dDIsIGN1cnNvcl9wb3MsIGNsZWFudXApIHtcbiAgLy8gb25seSBwYXNzIGZpeF91bmljb2RlPXRydWUgYXQgdGhlIHRvcCBsZXZlbCwgbm90IHdoZW4gZGlmZl9tYWluIGlzXG4gIC8vIHJlY3Vyc2l2ZWx5IGludm9rZWRcbiAgcmV0dXJuIGRpZmZfbWFpbih0ZXh0MSwgdGV4dDIsIGN1cnNvcl9wb3MsIGNsZWFudXAsIHRydWUpO1xufVxuXG5kaWZmLklOU0VSVCA9IERJRkZfSU5TRVJUO1xuZGlmZi5ERUxFVEUgPSBESUZGX0RFTEVURTtcbmRpZmYuRVFVQUwgPSBESUZGX0VRVUFMO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGRpZmY7XG4iXSwKICAibWFwcGluZ3MiOiAiOzs7Ozs7QUFBQTtBQUFBO0FBOEJBLFFBQUksY0FBYztBQUNsQixRQUFJLGNBQWM7QUFDbEIsUUFBSSxhQUFhO0FBV2pCLGFBQVMsVUFBVSxPQUFPLE9BQU8sWUFBWSxTQUFT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
